<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="刘立岗, 博客" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="开发笔记而已～～～">
<meta property="og:type" content="website">
<meta property="og:title" content="无来">
<meta property="og:url" content="http://www.wulai.me/page/6/index.html">
<meta property="og:site_name" content="无来">
<meta property="og:description" content="开发笔记而已～～～">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="无来">
<meta name="twitter:description" content="开发笔记而已～～～">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://www.wulai.me/page/6/"/>





  <title> 无来 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-81208215-1', 'auto');
  ga('send', 'pageview');
</script>









  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">无来</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">不管你来还是不来<br />我都在这里，夜夜点亮<br />不是为了守候<br />只是为了做好我自己</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.wulai.me/2016/12/14/UTF-8编码去除BOM头的python脚本/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Hillock">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/3354580?v=3&s=460">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="无来">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="无来" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/14/UTF-8编码去除BOM头的python脚本/" itemprop="url">
                  UTF-8编码去除BOM头的python脚本
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-14T09:58:23+08:00">
              2016-12-14
            </time>

            &nbsp;|&nbsp;

            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-check-o"></i>
            </span>
            <time title="Post modified" itemprop="dateModified" datetime="2016-12-14T10:01:42+08:00">
              2016-12-14
            </time>
            
          </span>

          

          
            
          

          

          
          

          
          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <script src="/assets/js/APlayer.min.js"> </script><blockquote>
<p>欢迎转载，但请务必在明确位置注明文章出处！ &gt;<a href="http://johnnyshieh.github.io/python/2015/08/02/python-remove-utf8-bom/" target="_blank" rel="noopener">http://johnnyshieh.github.io/python/2015/08/02/python-remove-utf8-bom/</a></p>
</blockquote>
<p>前几天我在Windows写完一篇markdown格式的文章，上传到github page后，这个文章的页面把jekyll的YAML头信息也显示出来了，没有像我之前在ubuntu中写的文章一样正常解析YAML头信息，最后谷歌了半天发现原因是在Windows用记事本保存utf-8编码的文件时会默认加上BOM头字符。而jekyll的文档中也明确写明了如果使用UTF-8编码，那么在文件中一定不要出现BOM头字符。</p>
<p>所以我把如何在Windows和linux系统中去除UTF-8的BOM头的方法做个记录。</p>
<ol>
<li>UTF-8 与 UTF-8 + BOM 的区别</li>
</ol>
<p>下面是我从网上复制过来BOM的简介：</p>
<p>BOM – Byte Order Mark，中文名译作“字节顺序标记”。在UCS 编码中有一个叫做 “Zero Width No-Break Space” ，中文译名作“零宽无间断间隔”的字符，它的编码是 FEFF。而 FFFE 在 UCS 中是不存在的字符，所以不应该出现在实际传输中。UCS 规范建议我们在传输字节流前，先传输字符 “Zero Width No-Break Space”。这样如果接收者收到 FEFF，就表明这个字节流是 Big-Endian 的；如果收到FFFE，就表明这个字节流是 Little- Endian 的。因此字符 “Zero Width No-Break Space” （“零宽无间断间隔”）又被称作 BOM。</p>
<p>UTF-8 不需要 BOM 来表明字节顺序，但可以用 BOM 来表明编码方式。字符 “Zero Width No-Break Space” 的 UTF-8 编码是 EF BB BF。所以如果接收者收到以 EF BB BF （十六进制）开头的字节流，就知道这是 UTF-8编码了。Windows 就是使用 BOM 来标记文本文件的编码方式的。</p>
<p>所以UTF-8 + BOM其实就是在文件的开头加上了 0xEF 0xBB 0xBF 这三个字节,而这个三个字节是一串隐藏字符。</p>
<ol>
<li>在Linux中如何检测去除BOM头</li>
</ol>
<p>在Linux中可以用vim很方便地检测、去除BOM头</p>
<p>检测是否有BOM头：</p>
<pre><code>:set bomb?
</code></pre><p>去除BOM头：</p>
<pre><code>:set encoding=utf-8
:set nobomb
</code></pre><p>添加BOM头也很简单：</p>
<pre><code>:set encoding=utf-8
:set bomb
</code></pre><ol>
<li>利用python脚本在window、linux、mac os中去除BOM头</li>
</ol>
<p>我在Terence的BomSweeper的基础上，用python3完成了一个去除单个文件BOM或者批量去除一个文件夹内多个文件BOM的脚本。原理就是删除文件开头的BOM 3个字节。</p>
<p>大家可以到Github中查看下载源码，项目地址– Utf8BomRemover</p>
<p>在readme中我有写明脚本的使用方法，如果大家对这个脚本有什么建议欢迎留言。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.wulai.me/2016/12/12/批量改名/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Hillock">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/3354580?v=3&s=460">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="无来">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="无来" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/12/批量改名/" itemprop="url">
                  批量改名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-12T12:20:27+08:00">
              2016-12-12
            </time>

            &nbsp;|&nbsp;

            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-check-o"></i>
            </span>
            <time title="Post modified" itemprop="dateModified" datetime="2016-12-12T12:21:53+08:00">
              2016-12-12
            </time>
            
          </span>

          

          
            
          

          

          
          

          
          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <script src="/assets/js/APlayer.min.js"> </script><p>将扩展名为<code>.json</code>的文件名添加前缀<code>ad_</code></p>
<pre><code>for i in `ls *.json`;do mv -f $i `echo &quot;ad_&quot;$i`;done
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.wulai.me/2016/12/12/awk列出文件夹所有文件导入到md文件/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Hillock">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/3354580?v=3&s=460">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="无来">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="无来" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/12/awk列出文件夹所有文件导入到md文件/" itemprop="url">
                  awk列出文件夹所有文件导入到md文件
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-12T10:58:44+08:00">
              2016-12-12
            </time>

            &nbsp;|&nbsp;

            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-check-o"></i>
            </span>
            <time title="Post modified" itemprop="dateModified" datetime="2016-12-12T11:20:54+08:00">
              2016-12-12
            </time>
            
          </span>

          

          
            
          

          

          
          

          
          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <script src="/assets/js/APlayer.min.js"> </script><p>通过命令列出文件夹并输出到指定文件</p>
<pre><code>ll |grep json | awk &apos;{print &quot;## &quot;NR&quot;.&quot; ,$9}&apos; &gt; README.md
</code></pre><p>说明：</p>
<ul>
<li><code>ll</code> 列出夹所有文件</li>
<li><code>grep json</code> 仅显示包含 <strong>json</strong> 的文件名</li>
<li>awk ‘{print “## “NR”.” ,$9}’<ul>
<li>awk 格式化grep的结果</li>
<li>打印输出</li>
<li><code>##</code> 每一天前面添加字符串<code>##</code></li>
<li>NR”.” 格式化输出行号。如 <code>1.</code>,<code>2.</code>等</li>
<li><code>,</code> 连接字符串</li>
<li><code>$9</code> 结果的第9列数据</li>
<li><code>&gt; README.md</code> 结果输出到README.md 文件</li>
</ul>
</li>
</ul>
<p>实例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">localhost:IFE8.0 json.json liuligang$ ll</span><br><span class="line">total 944</span><br><span class="line">-rw-r--r--@ 1 liuligang  staff    510 12 12 10:39 README.md</span><br><span class="line">-rw-r--r--@ 1 liuligang  staff  21499 11 28 10:40 airshop.json</span><br><span class="line">-rw-r--r--@ 1 liuligang  staff  36993 11 28 12:17 en_culture.json</span><br><span class="line">-rw-r--r--@ 1 liuligang  staff  17351 11 28 12:18 en_gourmet.json</span><br><span class="line">-rw-r--r--@ 1 liuligang  staff   6548 11 28 12:18 en_magazines.json</span><br><span class="line">-rw-r--r--@ 1 liuligang  staff  25975 11 28 12:17 en_movies.json</span><br><span class="line">-rw-r--r--@ 1 liuligang  staff  21805 11 28 12:16 en_recommend.json</span><br><span class="line">-rw-r--r--@ 1 liuligang  staff  29110 11 28 12:18 en_travel.json</span><br><span class="line">-rw-r--r--@ 1 liuligang  staff   1082 11 28 11:43 english_menu.json</span><br><span class="line">-rw-r--r--@ 1 liuligang  staff  28534 11 28 11:48 ent_cars.json</span><br><span class="line">-rw-r--r--@ 1 liuligang  staff  29919 11 28 11:46 ent_film.json</span><br><span class="line">-rw-r--r--@ 1 liuligang  staff  27993 11 28 11:47 ent_finance.json</span><br><span class="line">-rw-r--r--@ 1 liuligang  staff  26844 11 28 11:49 ent_travel.json</span><br><span class="line">-rw-r--r--@ 1 liuligang  staff   5409 11 28 11:49 ent_video.json</span><br><span class="line">-rw-r--r--@ 1 liuligang  staff   1331 11 28 11:48 entertainment_menu.json</span><br><span class="line">-rw-r--r--  1 liuligang  staff    350 12 12 10:21 file.list</span><br><span class="line">-rw-r--r--@ 1 liuligang  staff   7247 11 28 10:39 game.json</span><br><span class="line">-rw-r--r--@ 1 liuligang  staff  36349 11 28 11:49 gossip.json</span><br><span class="line">-rw-r--r--@ 1 liuligang  staff   8555 11 28 10:37 home.json</span><br><span class="line">-rw-r--r--@ 1 liuligang  staff  31678 11 28 11:50 lifestyle.json</span><br><span class="line">-rw-r--r--@ 1 liuligang  staff   1673 11 28 10:48 mainMenu.json</span><br><span class="line">-rw-r--r--@ 1 liuligang  staff  43716 11 28 11:50 recommend.json</span><br><span class="line">-rw-r--r--@ 1 liuligang  staff   8423 11 28 10:41 topic2.json</span><br><span class="line">-rw-r--r--@ 1 liuligang  staff   7047 11 28 10:40 topic4.json</span><br></pre></td></tr></table></figure>
<p>输出README.md文件如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">## 1. airshop.json</span><br><span class="line">## 2. en_culture.json</span><br><span class="line">## 3. en_gourmet.json</span><br><span class="line">## 4. en_magazines.json</span><br><span class="line">## 5. en_movies.json</span><br><span class="line">## 6. en_recommend.json</span><br><span class="line">## 7. en_travel.json</span><br><span class="line">## 8. english_menu.json</span><br><span class="line">## 9. ent_cars.json</span><br><span class="line">## 10. ent_film.json</span><br><span class="line">## 11. ent_finance.json</span><br><span class="line">## 12. ent_travel.json</span><br><span class="line">## 13. ent_video.json</span><br><span class="line">## 14. entertainment_menu.json</span><br><span class="line">## 15. game.json</span><br><span class="line">## 16. gossip.json</span><br><span class="line">## 17. home.json</span><br><span class="line">## 18. lifestyle.json</span><br><span class="line">## 19. mainMenu.json</span><br><span class="line">## 20. recommend.json</span><br><span class="line">## 21. topic2.json</span><br><span class="line">## 22. topic4.json</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.wulai.me/2016/11/21/git如何放弃所有本地修改/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Hillock">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/3354580?v=3&s=460">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="无来">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="无来" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/21/git如何放弃所有本地修改/" itemprop="url">
                  git如何放弃所有本地修改
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-11-21T11:50:29+08:00">
              2016-11-21
            </time>

            &nbsp;|&nbsp;

            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-check-o"></i>
            </span>
            <time title="Post modified" itemprop="dateModified" datetime="2016-11-21T11:51:55+08:00">
              2016-11-21
            </time>
            
          </span>

          

          
            
          

          

          
          

          
          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <script src="/assets/js/APlayer.min.js"> </script><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git checkout . #本地所有修改的。没有的提交的，都返回到原来的状态</span><br><span class="line">git stash #把所有没有提交的修改暂存到stash里面。可用git stash pop回复。</span><br><span class="line">git reset --hard HASH #返回到某个节点，不保留修改。</span><br><span class="line">git reset --soft HASH #返回到某个节点。保留修改</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.wulai.me/2016/11/18/macOS-10-12-Finder小技巧-快捷键显示隐藏文件/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Hillock">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/3354580?v=3&s=460">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="无来">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="无来" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/18/macOS-10-12-Finder小技巧-快捷键显示隐藏文件/" itemprop="url">
                  macOS 10.12 Finder小技巧 快捷键显示隐藏文件
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-11-18T15:20:23+08:00">
              2016-11-18
            </time>

            &nbsp;|&nbsp;

            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-check-o"></i>
            </span>
            <time title="Post modified" itemprop="dateModified" datetime="2016-11-18T15:23:37+08:00">
              2016-11-18
            </time>
            
          </span>

          

          
            
          

          

          
          

          
          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <script src="/assets/js/APlayer.min.js"> </script><p>快捷键:</p>
<pre><code>Command-Shift-.(句号)
</code></pre><p>快速显示目录内的隐藏文件.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.wulai.me/2016/11/14/svn中操作带有”-”符号的文件/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Hillock">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/3354580?v=3&s=460">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="无来">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="无来" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/14/svn中操作带有”-”符号的文件/" itemprop="url">
                  svn中操作带有”@”符号的文件
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-11-14T14:56:44+08:00">
              2016-11-14
            </time>

            &nbsp;|&nbsp;

            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-check-o"></i>
            </span>
            <time title="Post modified" itemprop="dateModified" datetime="2016-11-14T14:59:57+08:00">
              2016-11-14
            </time>
            
          </span>

          

          
            
          

          

          
          

          
          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <script src="/assets/js/APlayer.min.js"> </script><p>如果在命终端中用svn命令操作文件名中有“@”符号的文件（ios开发的朋友应该很清楚），会遇到：</p>
<pre><code>svn: E205000: Syntax error parsing peg revision ‘3x.png’
</code></pre><p>或者：</p>
<pre><code>svn: E200009: ‘welcome1@3x.png&apos;: a peg revision is not allowed here
</code></pre><p>类似的错误提示，原因是因为svn命令把文件名中的@识别成有其它含义的特殊字符，导致操作失败。</p>
<h3 id="解决办法："><a href="#解决办法：" class="headerlink" title="解决办法："></a>解决办法：</h3><p>在使用svn命令时在文件名尾部再添加一个<code>@</code>即可解决。<br>比如 要查看welcome1@3x.png文件信息：</p>
<pre><code>svn info welcome1@3x.png@
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.wulai.me/2016/10/27/rsync同步配置/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Hillock">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/3354580?v=3&s=460">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="无来">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="无来" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/27/rsync同步配置/" itemprop="url">
                  rsync进行网站异地镜像
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-27T09:10:48+08:00">
              2016-10-27
            </time>

            &nbsp;|&nbsp;

            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-check-o"></i>
            </span>
            <time title="Post modified" itemprop="dateModified" datetime="2017-03-04T14:43:08+08:00">
              2017-03-04
            </time>
            
          </span>

          

          
            
          

          

          
          

          
          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <script src="/assets/js/APlayer.min.js"> </script><p>站点远程同步脚本，实现数据库本地镜像。</p>
<p><code>如果源文件删除，目标文件夹也会删除。因此该脚本只能够作为镜像，不能作为备份</code></p>
<h3 id="rsync-sh-执行脚本"><a href="#rsync-sh-执行脚本" class="headerlink" title="rsync.sh 执行脚本"></a>rsync.sh 执行脚本</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line"></span><br><span class="line">path=$1</span><br><span class="line"></span><br><span class="line">host=rsync@103.235.220.108</span><br><span class="line">port=2222</span><br><span class="line"></span><br><span class="line">dbuser=root</span><br><span class="line">dbpwd=111111</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#远程服务器运行dbdump.sh脚本dump数据库</span><br><span class="line">echo &quot;dump msyql&quot;</span><br><span class="line">ssh $host -p $port &quot;~/dbdump.sh&quot;</span><br><span class="line"></span><br><span class="line">src=$host:/home/wwwroot/html</span><br><span class="line">dst=/home/wwwroot/html</span><br><span class="line">exculude=/home/wwwroot/rsync_exclude.list</span><br><span class="line"></span><br><span class="line">echo &quot;源:&quot;$src/$path</span><br><span class="line">echo &quot;目标:&quot;$dst/$path</span><br><span class="line">rsync -avzO -e &quot;ssh -p $port&quot; --exclude-from=$exculude   --delete  $src/$path  $dst/$path</span><br><span class="line"></span><br><span class="line">echo &quot;&gt;&gt;&gt;更新数据库&quot;</span><br><span class="line">CurrentDate=$(date +%Y%m%d)</span><br><span class="line">mysql -u$dbuser -p$dbpwd test &lt; $dst/db/test.$&#123;CurrentDate&#125;.sql</span><br><span class="line"></span><br><span class="line">echo &quot;同步完成&quot;</span><br></pre></td></tr></table></figure>
<h3 id="rsync-exclude-list"><a href="#rsync-exclude-list" class="headerlink" title="rsync_exclude.list"></a>rsync_exclude.list</h3><p>忽略的文件,文件夹路径<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.svn/</span><br><span class="line">Upload/</span><br><span class="line">logs/</span><br></pre></td></tr></table></figure></p>
<h3 id="dbdump-sh"><a href="#dbdump-sh" class="headerlink" title="dbdump.sh"></a>dbdump.sh</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">dbname=root</span><br><span class="line">dbpwd=111111</span><br><span class="line">CurrentDate=$(date +%Y%m%d)</span><br><span class="line">dirPath=/home/wwwroot/html/db</span><br><span class="line">mysqldump -u$dbname -pdbpwd test &gt; $dirPath/test.$&#123;CurrentDate&#125;.sql</span><br></pre></td></tr></table></figure>
<h3 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h3><p>同步test文件夹</p>
<p>./rsync.sh test</p>
<h3 id="显示进度条"><a href="#显示进度条" class="headerlink" title="显示进度条"></a>显示进度条</h3><p>添加参数<code>--progress</code></p>
<pre><code>rsync -av --progress  root@123.123.123.123:/root/mysql56.tar .
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.wulai.me/2016/10/26/如何成为一名数据科学家？/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Hillock">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/3354580?v=3&s=460">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="无来">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="无来" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/26/如何成为一名数据科学家？/" itemprop="url">
                  如何成为一名数据科学家？
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-26T14:59:35+08:00">
              2016-10-26
            </time>

            &nbsp;|&nbsp;

            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-check-o"></i>
            </span>
            <time title="Post modified" itemprop="dateModified" datetime="2016-10-26T15:16:05+08:00">
              2016-10-26
            </time>
            
          </span>

          

          
            
          

          

          
          

          
          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <script src="/assets/js/APlayer.min.js"> </script><h1 id="1、作者：谢科"><a href="#1、作者：谢科" class="headerlink" title="1、作者：谢科"></a>1、作者：谢科</h1><p>链接：<a href="https://www.zhihu.com/question/21592677/answer/24663656" target="_blank" rel="noopener">https://www.zhihu.com/question/21592677/answer/24663656</a><br>来源：知乎<br>著作权归作者所有，转载请联系作者获得授权。</p>
<p>“Data Science = statistics who uses python and lives in San Francisco”</p>
<p>恰好我马上启程到Twitter的data science team，而且恰巧懂一点点统计和住在旧金山，所以冲动地没有邀请就厚脸回答了:D</p>
<p>我认为有几个大方面</p>
<p>1）学好python。<br>现在几乎所以公司的数据都可以api给你，而python的数据处理能力强大且方便。加之在machine learning的很多算法上，python也独俏一方。另外，它的简明方便迅速迭代开发，15分钟写完个算法就可以看效果了。</p>
<p>除此之外，py还有点酷酷的感觉。任何程序拿matlab和c++都是可以写的，不过我真没认识过哪个d愿意自己把自己扔那个不酷的框框里:D</p>
<p>对不规则输入的处理也给python一个巨大的优势。通常来说，在我现在日常的工作里，所有的数据都是以纯文本但是非格式的形式存储的（raw text, unstructured data)。问题在于，这些文本不可以直接当作各种算法的输入，你需要<br>分词，分句<br>提取特征<br>整理缺失数据<br>除掉异类（outlier）<br>在这些时候，python可谓是神器。这里做的1-4都可以直接在scikit-learn里面找到对应的工具，而且，即使是要自己写一个定制的算法处理某些特殊需求，也就是一百行代码的事情。</p>
<p>简而言之，对于数据科学面临的挑战，python可以让你短平快地解决手中的问题，而不是担心太多实现细节。</p>
<p>2）学好统计学习<br>略拗口。统计学习的概念就是“统计机器学习方法”。<br>统计和计算机科学前几十年互相平行着，互相造出了对方造出的一系列工具，算法。但是直到最近人们开始注意到，计算机科学家所谓的机器学习其实就是统计里面的prediction而已。因此这两个学科又开始重新融合。</p>
<p>为什么统计学习很重要？</p>
<p>因为，纯粹的机器学习讲究算法预测能力和实现，但是统计一直就强调“可解释性”。比如说，针对今天微博股票发行就上升20%，你把你的两个预测股票上涨还是下跌的model套在新浪的例子上，然后给你的上司看。<br>Model-1有99%的预测能力，也就是99%的情况下它预测对，但是Model-2有95%，不过它有例外的一个附加属性——可以告诉你为什么这个股票上涨或者下跌。</p>
<p>试问，你的上司会先哪个？问问你自己会选哪个？</p>
<p>显然是后者。因为前者虽然有很强的预测力（机器学习），但是没有解释能力（统计解释）。</p>
<p>而作为一个数据科学家，80%的时间你是需要跟客户，团队或者上司解释为什么A可行B不可行。如果你告诉他们，“我现在的神经网络就是能有那么好的预测力可是我根本就没法解释上来”，那么，没有人会愿意相信你。</p>
<p>具体一些，怎么样学习统计学习？<br>先学好基本的概率学。如果大学里的还给老师了（跟我一样），那么可以从MIT的概率论教材【1】入手。从第1章到第9章看完并做完所有的习题。（p.s.面试Twitter的时候被问到一个拿球后验概率的问题，从这本书上抓来的）。<br>了解基本的统计检验及它们的假设，什么时候可以用到它们。<br>快速了解统计学习有哪些术语，用来做什么目的，读这本【5】。<br>学习基本的统计思想。有frequentist的统计，也有bayesian的统计。前者的代表作有【2】，后者看【3】。前者是统计学习的圣书，偏frequentist，后者是pattern recognition的圣书，几乎从纯bayesian的角度来讲。注意，【2】有免费版，作者把它全放在了网上。而且有一个简易版，如果感觉力不从心直接看【2】，那么可以先从它的简易版开始看。简易版【4】是作者在coursera上开课用的大众教材，简单不少（不过仍然有很多闪光点，通俗易懂）。对于【3】，一开始很难直接啃下来，但是啃下来会受益匪浅。<br>注意，以上的书搜一下几乎全可以在网上搜到别人传的pdf。有条件的同学可以买一下纸制版来读，体验更好并且可以支持一下作者。所有的书我都买了纸制版，但是我知道在国内要买本书有多不方便（以及原版书多贵）。</p>
<p>读完以上的书是个长期过程。但是大概读了一遍之后，我个人觉得是非常值得的。如果你只是知道怎么用一些软件包，那么你一定成不了一个合格的data scientist。因为只要问题稍加变化，你就不知道怎么解决了。</p>
<p>如果你感觉自己是一个二吊子数据科学家（我也是）那么问一下下面几个问题，如果有2个答不上来，那么你就跟我一样，真的还是二吊子而已，继续学习吧。<br>为什么在神经网络里面feature需要standardize而不是直接扔进去<br>对Random Forest需要做Cross-Validatation来避免overfitting吗？<br>用naive-bayesian来做bagging，是不是一个不好的选择？为什么？<br>在用ensembe方法的时候，特别是Gradient Boosting Tree的时候，我需要把树的结构变得更复杂（high variance, low bias)还是更简单（low variance, high bias)呢？为什么？<br>如果你刚开始入门，没有关系，回答不出来这些问题很正常。如果你是一个二吊子，体会一下，为什么你跟一流的data scientist还有些差距——因为你不了解每个算法是怎么工作，当你想要把你的问题用那个算法解决的时候，面对无数的细节，你就无从下手了。</p>
<p>说个题外话，我很欣赏一个叫Jiro的寿司店，它的店长在（东京？）一个最不起眼的地铁站开了一家全世界最贵的餐馆，预订要提前3个月。怎么做到的？70年如一日练习如何做寿司。70年！除了丧娶之外的假期，店长每天必到，8个小时工作以外继续练习寿司做法。</p>
<p>其实学数据科学也一样，沉下心来，练习匠艺。</p>
<p>3）学习数据处理<br>这一步不必独立于2）来进行。显然，你在读这些书的时候会开始碰到各种算法，而且这里的书里也会提到各种数据。但是这个年代最不值钱的就是数据了（拜托，为什么还要用80年代的“加州房价数据”？），值钱的是数据分析过后提供给决策的价值。那么与其纠结在这么悲剧的80年代数据集上，为什么不自己搜集一些呢？</p>
<p>开始写一个小程序，用API爬下Twitter上随机的tweets（或者weibo吧。。。）<br>对这些tweets的text进行分词，处理噪音（比如广告）<br>用一些现成的label作为label，比如tweet里会有这条tweet被转发了几次<br>尝试写一个算法，来预测tweet会被转发几次<br>在未见的数据集上进行测试<br>如上的过程不是一日之功，尤其刚刚开始入门的时候。慢慢来，耐心大于进度。</p>
<p>4）变成全能工程师（full stack engineer）<br>在公司环境下，作为一个新入职的新手，你不可能有优待让你在需要写一个数据可视化的时候，找到一个同事来给你做。需要写把数据存到数据库的时候，找另一个同事来给你做。</p>
<p>况且即使你有这个条件，这样频繁切换上下文会浪费更多时间。比如你让同事早上给你塞一下数据到数据库，但是下午他才给你做好。或者你需要很长时间给他解释，逻辑是什么，存的方式是什么。</p>
<p>最好的变法，是把你自己武装成一个全能工作师。你不需要成为各方面的专家，但是你一定需要各方面都了解一点，查一下文档可以上手就用。</p>
<p>会使用NoSQL。尤其是MongoDB<br>学会基本的visualization，会用基础的html和javascript，知道d3【6】这个可视化库，以及highchart【7】<br>学习基本的算法和算法分析，知道如何分析算法复杂度。平均复杂度，最坏复杂度。每次写完一个程序，自己预计需要的时间（用算法分析来预测）。推荐普林斯顿的算法课【8】（注意，可以从算法1开始，它有两个版本）<br>写一个基础的服务器，用flask【9】的基本模板写一个可以让你做可视化分析的backbone。<br>学习使用一个顺手的IDE，VIM， pycharm都可以。</p>
<p>4）读，读，读！<br>除了闭门造车，你还需要知道其它数据科学家在做些啥。涌现的各种新的技术，新的想法和新的人，你都需要跟他们交流，扩大知识面，以便更好应对新的工作挑战。</p>
<p>通常，非常厉害的数据科学家都会把自己的blog放到网上供大家参观膜拜。我推荐一些我常看的。另外，学术圈里也有很多厉害的数据科学家，不必怕看论文，看了几篇之后，你就会觉得：哈！我也能想到这个！</p>
<p>读blog的一个好处是，如果你跟他们交流甚欢，甚至于你可以从他们那里要一个实习来做！</p>
<p>betaworks首席数据科学家，Gilad Lotan的博客，我从他这里要的intern :D Gilad Lotan<br>Ed Chi，六年本科硕士博士毕业的神人，google data science <a href="http://edchi.blogspot.com/" target="_blank" rel="noopener">http://edchi.blogspot.com/</a><br>Hilary Mason，bitly首席科学家，纽约地区人尽皆知的数据科学家：hilarymason.com</p>
<p>在它们这里看够了之后，你会发现还有很多值得看的blog（他们会在文章里面引用其它文章的内容），这样滚雪球似的，你可以有够多的东西早上上班的路上读了：）</p>
<p>5）要不要上个研究生课程？<br>先说我上的网络课程：<br>Coursera.org<br><a href="https://www.coursera.org/course/machlearning" target="_blank" rel="noopener">https://www.coursera.org/course/machlearning</a><br>前者就不说了，人人都知道。后者我则更喜欢，因为教得更广阔，上课的教授也是世界一流的机器学习学者，而且经常会有一些很妙的点出来，促进思考。</p>
<p>对于是不是非要去上个研究生（尤其要不要到美国上），我觉得不是特别有必要。如果你收到了几个著名大学数据科学方向的录取，那开开心心地来，你会学到不少东西。但是如果没有的话，也不必纠结。我曾有幸上过或者旁听过美国这里一些顶级名校的课程，我感觉它的作用仍然是把你领进门，以及给你一个能跟世界上最聪明的人一个交流机会（我指那些教授）。除此之外，修行都是回家在寝室进行的。然而现在世界上最好的课程都摆在你的面前，为什么还要舍近求远呢。</p>
<p>总结一下吧<br>我很幸运地跟一些最好的数据科学家交流共事过，从他们的经历看和做事风格来看，真正的共性是</p>
<p>他们都很聪明——你也可以<br>他们都很喜欢自己做的东西——如果你不喜欢应该也不会看这个问题<br>他们都很能静下心来学东西——如果足够努力你也可以</p>
<p>【1】Introduction to Probability and Statistics<br>【2】Hastie, Trevor, et al. The elements of statistical learning. Vol. 2. No. 1. New York: Springer, 2009. 免费版<br>【3】Bishop, Christopher M. Pattern recognition and machine learning. Vol. 1. New York: springer, 2006.<br>【4】Introduction to Statistical Learning 免费版<br>【5】Wasserman, Larry. All of statistics: a concise course in statistical inference. Springer, 2004.<br>【6】<a href="http://d3js.org/" target="_blank" rel="noopener">http://d3js.org/</a><br>【7】<a href="http://www.highcharts.com/" target="_blank" rel="noopener">http://www.highcharts.com/</a><br>【8】Coursera.org<br>【9】<a href="http://flask.pocoo.org/" target="_blank" rel="noopener">http://flask.pocoo.org/</a></p>
<h1 id="2、Han-Hsiao"><a href="#2、Han-Hsiao" class="headerlink" title="2、Han Hsiao"></a>2、<a href="https://www.zhihu.com/people/hanhsiao" target="_blank" rel="noopener">Han Hsiao</a></h1><p><a href="https://www.zhihu.com/people/hanhsiao#hilightbadge" target="_blank" rel="noopener">数据挖掘、数据分析话题优秀回答者</a>一颗透明的心灵…</p>
<p>收录于 编辑推荐</p>
<p>•<a href="https://www.zhihu.com/question/21592677#" target="_blank" rel="noopener">2017 人赞同</a></p>
<p><img src="https://pic4.zhimg.com/25d0cdcafeee8e2b332910b6aec61f27_200x112.jpg" alt=""><br>-版本更新，2014年5月14日更新一些内容。-如果展开讲，这个问题可以写一篇综述了。最近刚好有空，打算认真写写。 仅仅在几年前，数据科学家还不是一个正式确定的职业，然而一眨眼的工夫，这个职业就已经被誉为“今后十年IT行业最重要的人才”了。 <strong>一、数据…</strong></p>
<p><a href="https://www.zhihu.com/question/21592677/answer/24559554" target="_blank" rel="noopener">显示全部</a></p>
<p>-</p>
<p>版本更新，2014年5月14日更新一些内容。</p>
<p>-</p>
<p>如果展开讲，这个问题可以写一篇综述了。最近刚好有空，打算认真写写。<br>仅仅在几年前，数据科学家还不是一个正式确定的职业，然而一眨眼的工夫，这个职业就已经被誉为“今后十年IT行业最重要的人才”了。  </p>
<p><strong>一、数据科学家的起源</strong>  </p>
<p>“数据科学”（DataScience）起初叫”datalogy “。最初在1966年由<strong>Peter Naur</strong>提出，用来代替”计算机科学”（丹麦人，2005年图灵奖得主，丹麦的计算机学会的正式名称就叫Danish Society of Datalogy，他是这个学会的第一任主席。Algol 60是许多后来的程序设计语言，包括今天那些必不可少的软件工程工具的原型。图灵奖被认为是“计算科学界的诺贝尔奖”。）  </p>
<p>1996年，International Federation of Classification Societies (IFCS)国际会议召开。<strong>数据科学</strong>一词首次出现在会议（Data Science, classification, and related methods）标题里。  </p>
<p>1998年，C.F. Jeff Wu做出题为“统计学=数据科学吗？ 的演讲，建议统计改名数据的科学统计数据的科学家。 （吴教授于1987年获得COPSS奖，2000年在台湾被选为中研院院士，2004年作为第一位统计学者当选美国国家工程院院士，也是第一位华人统计学者获此殊荣。）  </p>
<p>2002年，国际科学理事会：数据委员会科学和技术（CODATA）开始出版数据科学杂志。  </p>
<p>2003年，美国哥伦比亚大学开始发布数据科学杂志，主要内容涵盖统计方法和定量研究中的应用。   </p>
<p>2005年，美国国家科学委员会发表了”Long-lived Digital Data Collections: Enabling Research and Education in the 21st Century”，其中给出数据科学家的定义：</p>
<blockquote>
<p>“the information and computer scientists, database and software and programmers, disciplinary experts, curators and expert annotators, librarians, archivists, and others, who are crucial to the successful management of a digital data collection”</p>
</blockquote>
<p>信息科学与计算机科学家，数据库和软件工程师，领域专家，策展人和标注专家，图书管理员，档案员等数字数据管理收集者都以可成为数据科学家。它们主要任务是：”进行富有创造性的查询和分析。”<br>2012年，O’Reilly媒体的创始人 <a href="https://link.zhihu.com/?target=http%3A//www.forbes.com/pictures/lmm45emkh/tim-oreilly-is-the-founder-of-oreily-media/" target="_blank" rel="noopener">Tim O’Reilly __</a>列出了世界上排名前7位的数据科学家。  </p>
<ul>
<li>Larry Page，谷歌CEO。  </li>
<li>Jeff Hammerbacher，Cloudera的首席科学家和DJ Patil，Greylock风险投资公司企业家。  </li>
<li>Sebastian Thrun，斯坦福大学教授和Peter Norvig，谷歌数据科学家。  </li>
<li>Elizabeth Warren，Massachusetts州美国参议院候选人。  </li>
<li>Todd Park，人类健康服务部门首席技术官。  </li>
<li>Sandy Pentland，麻省理工学院教授。  </li>
<li>Hod Lipson and Michael Schmidt，康奈尔大学计算机科学家。<br>具体有时间再补充，感兴趣的朋友可以<a href="https://link.zhihu.com/?target=http%3A//scholar.google.com/" target="_blank" rel="noopener">Google Scholar__</a>一下他们的文献。  </li>
</ul>
<p>关于数据科学家的更多讨论：<br>你能列出十个著名的女性数据科学家吗？<a href="https://link.zhihu.com/?target=http%3A//www.datasciencecentral.com/forum/topics/can-you-name-10-famous-data-scientist-women" target="_blank" rel="noopener">Can you name 10 famous data scientist women?__</a><br>谁是最富有的数据科学家？<a href="https://link.zhihu.com/?target=http%3A//www.datasciencecentral.com/forum/topics/who-are-the-wealthiest-data-scientists" target="_blank" rel="noopener">Who are the wealthiest data scientists?__</a><br>请列出对大数据最具有影响力的20个人？<a href="https://link.zhihu.com/?target=http%3A//www.analyticbridge.com/profiles/blogs/who-are-the-top-20-influencers-in-big-data-forbes" target="_blank" rel="noopener">Who Are The Top 20 Influencers in Big Data?__</a>  </p>
<p><strong>二、数据科学家的定义</strong></p>
<p>数据科学(Data Science)是从数据中提取知识的研究，关键是科学。数据科学集成了多种领域的不同元素，包括信号处理，数学，概率模型技术和理论，机器学习，计算机编程，统计学，数据工程，模式识别和学习，可视化，不确定性建模，数据仓库，以及从数据中析取规律和产品的高性能计算。数据科学并不局限于大数据，但是数据量的扩大诚然使得数据科学的地位越发重要。  </p>
<p>数据科学的从业者被称为数据科学家。数据科学家通过精深的专业知识在某些科学学科解决复杂的数据问题。不远的将来，数据科学家们需要精通一门、两门甚至多门学科，同时使用<strong>数学，统计学和计算机科学</strong>的生产要素展开工作。所以数据科学家就如同一个<strong>team。</strong>  </p>
<p>曾经投资过Facebook，LinkedIn的格雷洛克风险投资公司把数据科学家描述成<strong>“能够管理和洞察数据的人”</strong>。在IBM的网站上，数据科学家的角色被形容成<strong>“一半分析师，一半艺术家”</strong>。他们代表了商业或数据分析这个角色的一个进化。</p>
<blockquote>
<p>for example – a data scientist will most likely explore and examine data from multiple disparate sources. The data scientist will sift through all incoming data with the goal of discovering a previously hidden insight, which in turn can provide a competitive advantage or address a pressing business problem. A data scientist does not simply collect and report on data, but also looks at it from many angles, determines what it means, then recommends ways to apply the data.  </p>
</blockquote>
<ul>
<li><p><strong>Anjul Bhambhri，IBM的大数据产品副总裁。</strong>  数据科学家是一个好奇的，不断质疑现有假设，能盯着数据就能指出趋势的人。这就好像在文艺复兴时期，一个非常想为组织带来挑战并从挑战中学习的人一样。  </p>
</li>
<li><p><strong>Jonathan Goldman，LinkedIn数据科学家。</strong>  </p>
</li>
</ul>
<p>2006年的6月份进入商务社交网站LinkedIn，当时LinkedIn只有不到800万用户。高德曼在之后的研究中创造出新的模型，利用数据预测注册用户的人际网络。具体来讲，他以用户在LinkedIn的个人资料，来找到和这些信息最匹配的三个人，并以推荐的形式显示在用户的使用页面上——这也就是我们熟悉的”你可能认识的人（People you may know）”。这个小小的功能让LinkedIn增加了数百万的新的页面点击量(数据挖掘的应用典型之一推荐系统）。</p>
<ul>
<li><strong>John Rauser, 亚马逊大数据科学家。</strong>  </li>
</ul>
<p>数据科学家是工程师和统计学家的结合体。从事这个职位要求极强的驾驭和管理海量数据的能力；同时也需要有像统计学家一样萃取、分析数据价值的本事，二者缺一不可。  </p>
<ul>
<li><strong>Steven Hillion, EMC Greenplum数据分析副总裁。</strong>  </li>
</ul>
<p>数据科学家是具有极强分析能力和对统计和数学有很深研究的数据工程师。他们能从商业信息等其他复杂且海量的数据库中洞察新趋势。  </p>
<ul>
<li><strong>Monica Rogati, LinkedIn资深数据科学家。</strong>  </li>
</ul>
<p>所有的科学家都是数据学家，因为他们整天都在和海量数据打交道。在我眼中，数据学家是一半黑客加一半分析师。他们通过数据建立看待事物的新维度。数据学家必须能够用一只眼睛发现新世界，用另一只眼睛质疑自己的发现。  </p>
<ul>
<li><strong>Daniel Tunkelang，LinkedIn首席数据科学家。</strong>  </li>
</ul>
<p>我是bitly 首席科学家Hilary Mason的忠实崇拜者。关于这个新概念的定义我也想引用她的说法：数据科学家是能够利用各种信息获取方式、统计学原理和机器的学习能力对其掌握的数据进行收集、去噪、分析并解读的角色。  </p>
<ul>
<li><strong>Michael Rappa，北卡罗莱纳州立大学教授。</strong>  </li>
</ul>
<p>尽管数据科学家这个名称最近才开始在硅谷出现，但这个新职业的产生却是基于人类上百年对数据分析的不断积累和衍生。和数据科学家最接近的职业应该是统计学家，只不过统计学家是一个成熟的定义且服务领域基本局限于政府和学界。数据科学家把统计学的精髓带到了更多的行业和领域。  </p>
<ul>
<li><strong>林仕鼎，百度大数据首席架构师。</strong></li>
</ul>
<p>如果从广义的角度讲，从事数据处理、加工、分析等工作的数据科学家、数据架构师和数据工程师都可以笼统地称为数据科学家；而从狭义的角度讲，那些具有数据分析能力，精通各类算法，直接处理数据的人员才可以称为数据科学家。    </p>
<p>最后引用Thomas H. Davenport（埃森哲战略变革研究院主任） 和 D.J. Patil（美国科学促进会科学与技术政策研究员，为美国国防部服务）的话来总结数据科学家需要具备的能力：  </p>
<ul>
<li>数据科学家倾向于用探索数据的方式来看待周围的世界。<strong>（好奇心）</strong>  </li>
<li>把大量散乱的数据变成结构化的可供分析的数据，还要找出丰富的数据源，整合其他可能不完整的数据源，并清理成结果数据集。<strong>（问题分体整理能力）</strong>  </li>
<li>新的竞争环境中，挑战不断地变化，新数据不断地流入，数据科学家需要帮助决策者穿梭于各种分析，从临时数据分析到持续的数据交互分析。<strong>（快速学习能力）</strong>  </li>
<li>数据科学家会遇到技术瓶颈，但他们能够找到新颖的解决方案。<strong>（问题转化能力）</strong>  </li>
<li>当他们有所发现，便交流他们的发现，建议新的业务方向。<strong>（业务精通**</strong>）**  </li>
<li>他们很有创造力的展示视觉化的信息，也让找到的模式清晰而有说服力。<strong>（表现沟通能力）</strong>  </li>
<li>他们会把蕴含在数据中的规律建议给Boss，从而影响产品，流程和决策。<strong>（决策力）</strong>    </li>
</ul>
<p><strong>三、数据科学家所需硬件技能</strong></p>
<p>《数据之美 Beautiful Data》的作者Jeff Hammerbacher在书中提到，对于 Facebook 的数据科学家“我们发现传统的头衔如商业分析师、统计学家、工程师和研究科学家都不能确切地定义我们团队的角色。该角色的工作是变化多样的：  </p>
<p>在任意给定的一天，团队的一个成员可以用 Python 实现一个多阶段的处理管道流、设计假设检验、用工具R在数据样本上执行回归测试、在 Hadoop 上为数据密集型产品或服务设计和实现算法，或者把我们分析的结果以清晰简洁的方式展示给企业的其他成员。为了掌握完成这多方面任务需要的技术，我们创造了<strong>数据科学家</strong>这个角色。”  </p>
<p><strong>(1) 计算机科学</strong></p>
<p>一般来说，数据科学家大多要求具备编程、计算机科学相关的专业背景。简单来说，就是对处理大数据所必需的Hadoop、Mahout等大规模并行处理技术与机器学习相关的技能。</p>
<ul>
<li><a href="http://www.zhihu.com/question/19795366/answer/24524910" target="_blank" rel="noopener">零基础学习 Hadoop 该如何下手？</a>  </li>
<li><a href="http://www.zhihu.com/question/20176089" target="_blank" rel="noopener">想从事大数据、海量数据处理相关的工作，如何自学打基础？</a></li>
</ul>
<p><strong>(2) 数学、统计、数据挖掘等</strong></p>
<p>除了数学、统计方面的素养之外，还需要具备使用SPSS、SAS等主流统计分析软件的技能。其中，面向统计分析的开源编程语言及其运行环境“R”最近备受瞩目。R的强项不仅在于其包含了丰富的统计分析库，而且具备将结果进行可视化的高品质图表生成功能，并可以通过简单的命令来运行。此外，它还具备称为CRAN（The Comprehensive R Archive Network）的包扩展机制，通过导入扩展包就可以使用标准状态下所不支持的函数和数据集。R语言虽然功能强大，但是学习曲线较为陡峭，个人建议从python入手，拥有丰富的statistical libraries，<a href="https://link.zhihu.com/?target=http%3A//www.numpy.org/" target="_blank" rel="noopener">NumPy __</a>，<a href="https://link.zhihu.com/?target=http%3A//www.scipy.org/" target="_blank" rel="noopener">SciPy.org __</a>，<a href="https://link.zhihu.com/?target=http%3A//pandas.pydata.org/" target="_blank" rel="noopener">Python Data Analysis Library__</a>，<a href="https://link.zhihu.com/?target=http%3A//matplotlib.org/" target="_blank" rel="noopener">matplotlib: python plotting__</a>。</p>
<ul>
<li><a href="http://www.zhihu.com/question/20751219/answer/24345252" target="_blank" rel="noopener">如何系统地学习数据挖掘？</a>  </li>
<li><a href="http://www.zhihu.com/question/19640095/answer/24240031" target="_blank" rel="noopener">做数据分析不得不看的书有哪些？</a>  </li>
<li><a href="http://www.zhihu.com/question/21577951/answer/23797202" target="_blank" rel="noopener">怎么学习用R语言进行数据挖掘？</a>  </li>
</ul>
<p><strong>(3) 数据可视化（Visualization）</strong></p>
<p>信息的质量很大程度上依赖于其表达方式。对数字罗列所组成的数据中所包含的意义进行分析，开发Web原型，使用外部API将图表、地图、Dashboard等其他服务统一起来，从而使分析结果可视化，这是对于数据科学家来说十分重要的技能之一。</p>
<ul>
<li><a href="http://www.zhihu.com/question/19929609?rf=19660128" target="_blank" rel="noopener">有哪些值得推荐的数据可视化工具？</a>  </li>
</ul>
<p><strong>(4) 跨界为王</strong></p>
<p>麦肯锡认为未来需要更多的“translators”，能够在IT技术，数据分析和商业决策之间架起一座桥梁的复合型人才是最被人需要的。”translators“可以驱动整个数据分析战略的设计和执行，同时连接的IT ，数据分析和业务部门的团队。如果缺少“translators“，即使拥有高端的数据分析策略和工具方法也是于事无补的。</p>
<blockquote>
<p> The data strategists’combination of IT knowledge and experience making business decisions makes them well suited to define the data requirements for high-value business analytics. Data scientists combine deep analytics expertise with IT know-how to develop sophisticated models and algorithms. Analytic consultants combine practical business knowledge with analytics experience to zero in on high-impact opportunities for analytics.</p>
</blockquote>
<p>天才的”translators“非常罕见。但是大家可以各敬其职（三个臭皮匠臭死诸葛亮），数据战略家可以使用IT知识和经验来制定商业决策，数据科学家可以结合对专业知识的深入理解使用IT技术开发复杂的模型和算法，分析顾问可以结合实际的业务知识与分析经验聚焦下一个行业爆点。推荐关注：<a href="https://link.zhihu.com/?target=https%3A//www.facebook.com/data" target="_blank" rel="noopener">https://www.facebook.com/data__</a>  </p>
<p><strong>四、数据科学家的培养</strong></p>
<p>位于伊利诺伊州芝加哥郊外埃文斯顿市的美国名牌私立大学——西北大学（Northwestern University），就是其中之一。西北大学决定从2012年9月起在其工程学院下成立一个主攻大数据分析课程的分析学研究生院，并开始了招生工作。西北大学对于成立该研究生院是这样解释的：“虽然只要具备一些Hadoop和Cassandra的基本知识就很容易找到工作，但拥有深入知识的人才却是十分缺乏的。”</p>
<p>此外，该研究生院的课程计划以“传授和指导将业务引向成功的技能，培养能够领导项目团队的优秀分析师”为目标，授课内容在数学、统计学的基础上，融合了尖端计算机工程学和数据分析。课程预计将涵盖分析领域中主要的三种数据分析方法：预测分析、描述分析（商业智能和数据挖掘）和规范分析（优化和模拟），具体内容如下。</p>
<p><strong>(1) 秋学期</strong><br>* 数据挖掘相关的统计方法（多元Logistic回归分析、非线性回归分析、判别分析等）<br>* 定量方法（时间轴分析、概率模型、优化）<br>* 决策分析（多目的决策分析、决策树、影响图、敏感性分析）<br>* 树立竞争优势的分析（通过项目和成功案例学习基本的分析理念）</p>
<p><strong>(2) 冬学期</strong><br>*  数据库入门（数据模型、数据库设计）<br>*  预测分析（时间轴分析、主成分分析、非参数回归、统计流程控制）<br>*  数据管理（ETL（Extract、Transform、Load）、数据治理、管理责任、元数据）<br>*  优化与启发（整数计划法、非线性计划法、局部探索法、超启发（模拟退火、遗传算法））</p>
<p><strong>(3) 春学期</strong><br>*  大数据分析（非结构化数据概念的学习、MapReduce技术、大数据分析方法）<br>*  数据挖掘（聚类（k-means法、分割法）、关联性规则、因子分析、存活时间分析）<br>*  其他，以下任选两门（社交网络、文本分析、Web分析、财务分析、服务业中的分析、能源、健康医疗、供应链管理、综合营销沟通中的概率模型）</p>
<p><strong>(4) 秋学期</strong><br>*  风险分析与运营分析的计算机模拟<br>*  软件层面的分析学（组织层面的分析课题、IT与业务用户、变革管理、数据课题、结果的展现与传达方法）  </p>
<p><img src="https://pic4.zhimg.com/0d3bee73c313284a7fadd30493ff01c7_b.jpg" alt="">（EMC的在线课程：<a href="https://link.zhihu.com/?target=https%3A//education.emc.com/guest/campaign/data_science.aspx" target="_blank" rel="noopener">Data Science and Big Data Analytics Training__</a>，收费T_T，大家可以了解下学习路径）  </p>
<p><strong>(5)分享一些免费的课程</strong><br>以下课程免费，讲师都是领域的专家，需要提前报名，请注意开班的时间。  </p>
<ul>
<li><a href="https://link.zhihu.com/?target=https%3A//www.coursera.org/course/introstats" target="_blank" rel="noopener">Coursera.org__</a>：统计学。  </li>
<li><a href="https://link.zhihu.com/?target=https%3A//www.coursera.org/course/ml" target="_blank" rel="noopener">Coursera.org__</a>：机器学习。  </li>
<li><a href="https://link.zhihu.com/?target=https%3A//www.coursera.org/course/compmethods" target="_blank" rel="noopener">Coursera.org__</a>：数据分析的计算方法。</li>
<li><a href="https://link.zhihu.com/?target=https%3A//www.coursera.org/course/bigdata" target="_blank" rel="noopener">Coursera.org__</a>：大数据。  </li>
<li><a href="https://link.zhihu.com/?target=https%3A//www.coursera.org/course/datasci" target="_blank" rel="noopener">Coursera.org__</a>：数据科学导论。  </li>
<li><p><a href="https://link.zhihu.com/?target=https%3A//www.coursera.org/course/dataanalysis" target="_blank" rel="noopener">Coursera.org__</a>：数据分析。  名校课程，需要一定的英语基础和计算机基础：  </p>
</li>
<li><p><a href="https://link.zhihu.com/?target=http%3A//ocw.mit.edu/courses/sloan-school-of-management/15-075j-statistical-thinking-and-data-analysis-fall-2011/index.htm" target="_blank" rel="noopener">Statistical Thinking and Data Analysis__</a>：麻省理工学院的统计思维与数据分析课。概率抽样，回归，常见分布等。  </p>
</li>
<li><a href="https://link.zhihu.com/?target=http%3A//ocw.mit.edu/courses/sloan-school-of-management/15-062-data-mining-spring-2003/" target="_blank" rel="noopener">Data Mining | Sloan School of Management__</a>：麻省理工学院的数据挖掘课程，数据挖掘的知识以及机器学习算法。  </li>
<li><a href="https://link.zhihu.com/?target=http%3A//had.co.nz/stat645/" target="_blank" rel="noopener">Rice University Data Visualization__</a>：莱斯大学的数据可视化，从统计学的角度分析信息可视化。  </li>
<li><a href="https://link.zhihu.com/?target=http%3A//harvarddatascience.com/2013/02/20/introduction-to-computing-modeling-and-visualization-first-lectures-of-stat-221/" target="_blank" rel="noopener">Harvard University Introduction to Computing, Modeling, and Visualization__</a>: 哈佛大学，如何在数学计算与数据交互可视化之间架起桥梁。  </li>
<li><a href="https://link.zhihu.com/?target=http%3A//vis.berkeley.edu/courses/cs294-10-sp11/wiki/index.php/CS294-10_Visualization" target="_blank" rel="noopener">UC Berkeley Visualization__</a>：加州大学伯克利分校数据可视化。  </li>
<li><a href="https://link.zhihu.com/?target=http%3A//dataiap.github.io/dataiap/" target="_blank" rel="noopener">Data Literacy Course – IAP__</a>：两个MIT的数据研究生，如何分析处理可视化数据。  </li>
<li><a href="https://link.zhihu.com/?target=http%3A//columbia-applied-data-science.github.io/" target="_blank" rel="noopener">Columbia University Applied Data Science__</a>：哥伦比亚大学，数据分析方法。需要一定的数据基础。  </li>
<li><a href="https://link.zhihu.com/?target=http%3A//alex.smola.org/teaching/berkeley2012/systems.html" target="_blank" rel="noopener">SML: Systems__</a>：加州大学伯克利分校，可扩展的机器学习方法。从硬件系统，并行化范式到MapReduce+Hadoop+BigTable，非常全面系统。  </li>
</ul>
<p><strong>五、数据科学家的前景</strong></p>
<p><img src="https://pic1.zhimg.com/5c5f759508c5e30954e8def2d79195c4_b.jpg" alt="">（<a href="https://link.zhihu.com/?target=http%3A//www.emc.com/index.htm" target="_blank" rel="noopener">EMC - Leading Cloud Computing, Big Data, and Trusted IT Solutions__</a>，关于数据科学家的研究）<br><img src="https://pic4.zhimg.com/25d0cdcafeee8e2b332910b6aec61f27_b.jpg" alt="">Like the physical universe, the digital universe is large – by 2020 containing nearly as many digital bits as there are stars in the universe. It is doubling in size every two years, and by 2020 the digital universe – the data we create and copy annually – will reach 44 zettabytes, or 44 trillion gigabytes.</p>
<p>EMC预测，按照目前的情况数字宇宙以每两年一番的速度倍增，在2020年将到达44ZB（1ZB=1.1805916207174113e+21B）。EMC做出了5点比较大胆的预测。</p>
<ul>
<li>In 2013, while about 40% of the information in the digital universe required some type of data protection, less than 20% of the digital universe actually had these protections.  </li>
<li>Data from embedded systems, the signals from which are a major component of the Internet of Things, will grow from 2% of the digital universe in 2013 to 10% in 2020.  </li>
<li>In 2013, less than 20% of the data in the digital universe is “touched” by the cloud, either stored, perhaps temporarily, or processed in some way. By 2020, that percentage will double to 40%.  </li>
<li>Most of the digital universe is transient – unsaved Netflix or Hulu movie streams, or Xbox One gamer interactions, temporary routing information in networks, sensor signals discarded when no alarms go off, etc. – and it is getting more so. This is a good thing, because the world’s amount of available storage capacity (i.e., unused bytes) across all media types is growing slower than the digital universe. In 2013, the available storage capacity could hold just 33% of the digital universe. By 2020, it will be able to store less than 15%.  </li>
<li>In 2014, the digital universe will equal 1.7 megabytes a minute for every person on Earth.<br><img src="https://pic4.zhimg.com/de762990c1a55f135e5a99efc271f203_b.jpg" alt="">Between 2013 and 2020 the division of the digital universe between mature and emerging markets (e.g., China) will switch – from 60% accounted for by mature markets to 60% of the data in the digital universe coming from emerging markets.</li>
</ul>
<p>EMC预测在2017年左右新兴的市场将超越成熟市场，东亚国家是最具潜力的引爆点。（大家是不是有点小激动，前景一片光明）  </p>
<p><strong>六、结束语</strong>  </p>
<p>推荐网站：  </p>
<p><a href="https://link.zhihu.com/?target=http%3A//www.datasciencecentral.com/" target="_blank" rel="noopener">Data Science Central__</a> （数据科学中心，大牛云集，资源丰富，讨论者热情，各种课程）  </p>
<p><strong>祝每一个DMer都挖掘到金矿和快乐：）</strong>  </p>
<p>参考文献：  </p>
<p><em>[1].<a href="https://link.zhihu.com/?target=http%3A//www.forbes.com/sites/gilpress/2012/09/27/data-scientists-the-definition-of-sexy/" target="_blank" rel="noopener">Data Scientists: The Definition of Sexy__</a></em></p>
<p><em>[2].《大数据的冲击》. 城田真琴.  野村综合研究所创新开发部高级研究员、IT分析师，日本政府“智能云计算研究会”智囊团成员</em></p>
<p>_[3].麦肯锡. <a href="https://link.zhihu.com/?target=http%3A//www.mckinsey.com/insights/business_technology/big_data_the_next_frontier_for_innovation" target="_blank" rel="noopener">Big data: The next frontier for innovation, competition, and productivity__</a>_</p>
<p><em>[4].EMC. <a href="https://link.zhihu.com/?target=http%3A//china.emc.com/leadership/digital-universe/2014iview/executive-summary.htm" target="_blank" rel="noopener">Executive Summary: Data Growth, Business Opportunities, and the IT Imperatives__</a></em></p>
<p><em>[5].<a href="https://link.zhihu.com/?target=http%3A//www.forbes.com/sites/danwoods/2011/10/11/emc-greenplums-steven-hillion-on-what-is-a-data-scientist/" target="_blank" rel="noopener">EMC Greenplum’s Steven Hillion on What Is a Data Scientist?__</a></em></p>
<p><em>[6].<a href="https://link.zhihu.com/?target=http%3A//www.forbes.com/sites/danwoods/2011/11/27/linkedins-monica-rogati-on-what-is-a-data-scientist/" target="_blank" rel="noopener">LinkedIn’s Monica Rogati On “What Is A Data Scientist?”__</a></em>  </p>
<p><em>[7].<a href="https://link.zhihu.com/?target=http%3A//www-01.ibm.com/software/data/infosphere/data-scientist/" target="_blank" rel="noopener">IBM  - What is a Data Scientist?__</a></em></p>
<p><em>[8].</em><a href="https://link.zhihu.com/?target=http%3A//cacm.acm.org/magazines/2013/12/169933-data-science-and-prediction/fulltext" target="_blank" rel="noopener">Data Science and Prediction__</a>  </p>
<p><em>[9].<a href="https://link.zhihu.com/?target=http%3A//simplystatistics.org/2013/12/12/the-key-word-in-data-science-is-not-data-it-is-science/" target="_blank" rel="noopener">The key word in “Data Science” is not Data, it is Science__</a></em></p>
<p><em>[10].<a href="https://link.zhihu.com/?target=https%3A//www.quora.com/Data-Science/How-do-I-become-a-data-scientist" target="_blank" rel="noopener">Data Science: How do I become a data scientist?__</a></em></p>
<p><em>[11].<a href="https://link.zhihu.com/?target=http%3A//www.zipfianacademy.com/blog/post/46864003608/a-practical-intro-to-data-science" target="_blank" rel="noopener">A Practical Intro to Data Science__</a></em></p>
<p><em>[12].<a href="https://link.zhihu.com/?target=http%3A//content.businessvalue.com.cn/post/6829.html" target="_blank" rel="noopener">解码数据科学家__</a></em></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.wulai.me/2016/10/26/如何通过自学，成为数据挖掘“高手”？/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Hillock">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/3354580?v=3&s=460">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="无来">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="无来" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/26/如何通过自学，成为数据挖掘“高手”？/" itemprop="url">
                  如何通过自学，成为数据挖掘“高手”？
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-26T14:28:54+08:00">
              2016-10-26
            </time>

            &nbsp;|&nbsp;

            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-check-o"></i>
            </span>
            <time title="Post modified" itemprop="dateModified" datetime="2016-10-26T14:31:21+08:00">
              2016-10-26
            </time>
            
          </span>

          

          
            
          

          

          
          

          
          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <script src="/assets/js/APlayer.min.js"> </script><h2 id="1、基础篇："><a href="#1、基础篇：" class="headerlink" title="1、基础篇："></a>1、基础篇：</h2><ol>
<li><p>读书《Introduction to Data Mining》，这本书很浅显易懂，没有复杂高深的公式，很合适入门的人。另外可以用这本书做参考《Data Mining : Concepts and Techniques》。第二本比较厚，也多了一些数据仓库方面的知识。如果对算法比较喜欢，可以再阅读《Introduction to Machine Learning》。</p>
</li>
<li><p>实现经典算法。有几个部分：<br>a. 关联规则挖掘 (Apriori, FPTree, etc.)<br>b. 分类 (C4.5, KNN, Logistic Regression, SVM, etc.)<br>c. 聚类 (Kmeans, DBScan, Spectral Clustering, etc.)<br>d. 降维 (PCA, LDA, etc.)<br>e. 推荐系统 (基于内容的推荐，协同过滤，如矩阵分解等)<br>然后在公开数据集上测试，看实现的效果。可以在下面的网站找到大量的公开数据集：<a href="http://archive.ics.uci.edu/ml/" target="_blank" rel="noopener">http://archive.ics.uci.edu/ml/</a></p>
</li>
<li><p>熟悉几个开源的工具: Weka (用于上手); LibSVM, scikit-learn, Shogun</p>
</li>
<li><p>到 <a href="https://www.kaggle.com/" target="_blank" rel="noopener">https://www.kaggle.com/</a> 上参加几个101的比赛，学会如何将一个问题抽象成模型，并从原始数据中构建有效的特征 (Feature Engineering).</p>
</li>
</ol>
<p>到这一步的话基本几个国内的大公司都会给你面试的机会。</p>
<h2 id="2、进阶篇："><a href="#2、进阶篇：" class="headerlink" title="2、进阶篇："></a>2、进阶篇：</h2><ol>
<li><p>读书，下面几部都是大部头，但学完进步非常大。<br>a.《Pattern Recognition and Machine Learning》<br>b.《The Elements of Statistical Learning》<br>c.《Machine Learning: A Probabilistic Perspective》<br>第一本比较偏Bayesian；第二本比较偏Frequentist；第三本在两者之间，但我觉得跟第一本差不多，不过加了不少新内容。当然除了这几本大而全的，还有很多介绍不同领域的书，例如《Boosting Foundations and Algorithms》，《Probabilistic Graphical Models Principles and Techniques》；以及理论一些的《Foundations of Machine Learning》，《Optimization for Machine Learning》等等。这些书的课后习题也非常有用，做了才会在自己写Paper的时候推公式。</p>
</li>
<li><p>读论文。包括几个相关会议：KDD，ICML，NIPS，IJCAI，AAAI，WWW，SIGIR，ICDM；以及几个相关的期刊：TKDD，TKDE，JMLR，PAMI等。跟踪新技术跟新的热点问题。当然，如果做相关research，这一步是必须的。例如我们组的风格就是上半年读Paper，暑假找问题，秋天做实验，春节左右写/投论文。</p>
</li>
<li><p>跟踪热点问题。例如最近几年的Recommendation System，Social Network，Behavior Targeting等等，很多公司的业务都会涉及这些方面。以及一些热点技术，例如现在很火的Deep Learning。</p>
</li>
<li><p>学习大规模并行计算的技术，例如MapReduce、MPI，GPU Computing。基本每个大公司都会用到这些技术，因为现实的数据量非常大，基本都是在计算集群上实现的。</p>
</li>
<li><p>参加实际的数据挖掘的竞赛，例如KDDCUP，或 <a href="https://www.kaggle.com/" target="_blank" rel="noopener">https://www.kaggle.com/</a> 上面的竞赛。这个过程会训练你如何在一个短的时间内解决一个实际的问题，并熟悉整个数据挖掘项目的全过程。</p>
</li>
<li><p>参与一个开源项目，如上面提到的Shogun或scikit-learn还有Apache的Mahout，或为一些流行算法提供更加有效快速的实现，例如实现一个Map/Reduce平台下的SVM。这也是锻炼Coding的能力。</p>
</li>
</ol>
<p>到这一步国内的大公司基本是想哪去哪，而且待遇也不差；如果英语好，去US那边的公司难度也不大了。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.wulai.me/2016/10/13/MySQL-主主复制-LVS-Keepalived-实现-MySQL-高可用性/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Hillock">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/3354580?v=3&s=460">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="无来">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="无来" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/13/MySQL-主主复制-LVS-Keepalived-实现-MySQL-高可用性/" itemprop="url">
                  MySQL 主主复制 + LVS + Keepalived 实现 MySQL 高可用性
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-13T14:00:59+08:00">
              2016-10-13
            </time>

            &nbsp;|&nbsp;

            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-check-o"></i>
            </span>
            <time title="Post modified" itemprop="dateModified" datetime="2016-10-13T14:20:38+08:00">
              2016-10-13
            </time>
            
          </span>

          

          
            
          

          

          
          

          
          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <script src="/assets/js/APlayer.min.js"> </script><p>MySQL复制能够保证数据的冗余的同时可以做读写分离来分担系统压力，如果是主主复制还可以很好的避免主节点的单点故障。但是MySQL主主复制存在一些问题无法满足我们的实际需要：未提供统一访问入口来实现负载均衡，如果其中master宕掉的话需要手动切换到另外一个master，而不能自动进行切换。</p>
<p>这篇文章下面要介绍如何通过LVS+Keepalived的方式来是实现MySQL的高可用性，同时解决以上问题。</p>
<h2 id="Keepalived和LVS介绍"><a href="#Keepalived和LVS介绍" class="headerlink" title="Keepalived和LVS介绍"></a>Keepalived和LVS介绍</h2><p>Keepalived是一个基于VRRP（虚拟路由冗余协议）可用来实现服务高可用性的软件方案，避免出现单点故障。Keepalived一般用来实现轻量级高可用性，且不需要共享存储，一般用于两个节点之间，常见有LVS+Keepalived、Nginx+Keepalived组合。</p>
<p>LVS(Linux Virtual Server)是一个高可用性虚拟的服务器集群系统。本项目在1998年5月由章文嵩博士成立，是中国国内最早出现的自由软件项目之一。</p>
<p>LVS主要用于多服务器的负载均衡，作用于网络层。LVS构建的服务器集群系统中，前端的负载均衡层被称为Director Server；后端提供服务的服务器组层被称为Real Server。通过下图可以大致了解LVS的基础架构。</p>
<img title="图片" alt="lvs结构" src="http://res.hillock.com.cn/wulai/images/mysql_lvs/lvs.jpg">
<p>LVS有三种工作模式，分别是DR（Direct Routing 直接路由）、TUN(Tunneling IP隧道）、NAT（Network Address Translation 网络地址转换）。其中TUN模式能够支持更多的Real Server，但需要所有服务器支持IP隧道协议；DR也可以支持相当的Real Server，但需要保证Director Server虚拟网卡与物理网卡在同一网段；NAT扩展性有限，无法支持更多的Real Server，因为所有的请求包和应答包都需要Director Server进行解析再生，影响效率。 同时，LVS负载均衡有10中调度算法，分别是rr、wrr、lc、wlc、lblc、lblcr、dh、sh、sed、nq</p>
<p>本文中将利用LVS实现MySQL的读写负载均衡，Keepalived避免节点出现单点故障。</p>
<h2 id="LVS-Keepalived配置"><a href="#LVS-Keepalived配置" class="headerlink" title="LVS+Keepalived配置"></a>LVS+Keepalived配置</h2><p>环境准备</p>
<blockquote>
<p>LVS1：192.168.1.2<br>LVS2：192.168.1.11<br>MySQL Server1：192.168.1.5<br>MySQL Server2：192.168.1.6<br>VIP：192.168.1.100<br>OS: CentOS 6.4</p>
</blockquote>
<h3 id="Keepalive安装"><a href="#Keepalive安装" class="headerlink" title="Keepalive安装"></a>Keepalive安装</h3><p>需要安装以下软件包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># yum install -y kernel-devel openssl openssl-devel</span><br></pre></td></tr></table></figure>
<p>解压keepalived到/usr/local/并进入目录执行配置编译</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># ./configure --prefix=/usr/local/keepalived --with-kernel-dir=/usr/src/kernels/2.6.32-431.5.1.el6.x86_64/</span><br><span class="line">Keepalived configuration</span><br><span class="line">------------------------</span><br><span class="line">Keepalived version       : 1.2.13</span><br><span class="line">Compiler                 : gcc</span><br><span class="line">Compiler flags           : -g -O2</span><br><span class="line">Extra Lib                : -lssl -lcrypto -lcrypt</span><br><span class="line">Use IPVS Framework       : Yes</span><br><span class="line">IPVS sync daemon support : Yes</span><br><span class="line">IPVS use libnl           : No</span><br><span class="line">fwmark socket support    : Yes</span><br><span class="line">Use VRRP Framework       : Yes</span><br><span class="line">Use VRRP VMAC            : Yes</span><br><span class="line">SNMP support             : No</span><br><span class="line">SHA1 support             : No</span><br><span class="line">Use Debug flags          : No</span><br><span class="line"></span><br><span class="line"># make</span><br></pre></td></tr></table></figure>
<p>默认情况下keepalived启动时会去/etc/keepalived目录下找配置文件，将需要的配置文件拷贝到指定位置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># cp /usr/local/keepalived/etc/rc.d/init.d/keepalived /etc/rc.d/init.d/</span><br><span class="line"># cp /usr/local/keepalived/etc/sysconfig/keepalived /etc/sysconfig/</span><br><span class="line"># cp /usr/local/keepalived/etc/keepalived/keepalived.conf /etc/keepalived/</span><br><span class="line"># cp /usr/local/keepalived/sbin/keepalived /usr/sbin/</span><br><span class="line"># chkconfig mysqld on</span><br><span class="line"># chkconfig keepalived on</span><br></pre></td></tr></table></figure>
<h3 id="LVS安装"><a href="#LVS安装" class="headerlink" title="LVS安装"></a>LVS安装</h3><p>需要安装以下软件包</p>
<pre><code># yum install -y libnl* popt*
</code></pre><p>查看是否加载lvs模块</p>
<pre><code># modprobe -l |grep ipvs
</code></pre><p>解压安装<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># ln -s /usr/src/kernels/2.6.32-431.5.1.el6.x86_64/ /usr/src/linux</span><br><span class="line"># tar -zxvf ipvsadm-1.26.tar.gz</span><br><span class="line"># make</span><br></pre></td></tr></table></figure></p>
<p>LVS安装完成，查看当前LVS集群</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># ipvsadm -L -n</span><br><span class="line">IP Virtual Server version 1.2.1 (size=4096)</span><br><span class="line">Prot LocalAddress:Port Scheduler Flags</span><br><span class="line">-&gt; RemoteAddress:Port           Forward Weight ActiveConn InActConn</span><br></pre></td></tr></table></figure>
<h2 id="LVS-Keepalived配置-1"><a href="#LVS-Keepalived配置-1" class="headerlink" title="LVS+Keepalived配置"></a>LVS+Keepalived配置</h2><p><strong> 搭建MySQL主主复制 </strong></p>
<p>这里不再赘述，请参考MySQL复制</p>
<p><strong> 配置Keepalived </strong></p>
<p>下面是LVS1节点（Keepalived主节点）上的Keepalived配置，LVS2类似</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"># vim /etc/keepalived/keepalived.conf    </span><br><span class="line"></span><br><span class="line">! Configuration File for keepalived</span><br><span class="line"></span><br><span class="line">global_defs &#123;</span><br><span class="line">   router_id LVS1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">vrrp_instance VI_1 &#123;</span><br><span class="line">    state MASTER #指定instance初始状态，实际根据优先级决定.backup节点不一样</span><br><span class="line">    interface eth0 #虚拟IP所在网</span><br><span class="line">    virtual_router_id 51 #VRID，相同VRID为一个组，决定多播MAC地址</span><br><span class="line">    priority 100 #优先级，另一台改为90.backup节点不一样</span><br><span class="line">    advert_int 1  #检查间隔</span><br><span class="line">    authentication &#123;</span><br><span class="line">        auth_type PASS  #认证方式，可以是pass或ha</span><br><span class="line">        auth_pass 1111  #认证密码</span><br><span class="line">    &#125;</span><br><span class="line">    virtual_ipaddress &#123;</span><br><span class="line">        192.168.1.100  #VIP</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">virtual_server 192.168.1.100 3306 &#123;</span><br><span class="line">    delay_loop 6  #服务轮询的时间间隔</span><br><span class="line">    lb_algo wrr  #加权轮询调度，LVS调度算法 rr|wrr|lc|wlc|lblc|sh|sh</span><br><span class="line">    lb_kind DR   #LVS集群模式 NAT|DR|TUN，其中DR模式要求负载均衡器网卡必须有一块与物理网卡在同一个网段</span><br><span class="line">    #nat_mask 255.255.255.0</span><br><span class="line">    persistence_timeout 50  #会话保持时间</span><br><span class="line">    protocol TCP  #健康检查协议</span><br><span class="line"></span><br><span class="line">     ## Real Server设置，3306就是MySQL连接端口</span><br><span class="line">    real_server 192.168.1.5 3306 &#123;</span><br><span class="line">        weight 3  ##权重</span><br><span class="line">        TCP_CHECK &#123;</span><br><span class="line">            connect_timeout 3</span><br><span class="line">            nb_get_retry 3</span><br><span class="line">            delay_before_retry 3</span><br><span class="line">            connect_port 3306</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    real_server 192.168.1.6 3306 &#123;</span><br><span class="line">        weight 3</span><br><span class="line">        TCP_CHECK &#123;</span><br><span class="line">            connect_timeout 3</span><br><span class="line">            nb_get_retry 3</span><br><span class="line">            delay_before_retry 3</span><br><span class="line">            connect_port 3306</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="配置LVS"><a href="#配置LVS" class="headerlink" title="配置LVS"></a>配置LVS</h3><p>编写LVS启动脚本<code>/etc/init.d/realserver</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">VIP=192.168.1.100</span><br><span class="line">. /etc/rc.d/init.d/functions</span><br><span class="line"></span><br><span class="line">case &quot;$1&quot; in</span><br><span class="line"># 禁用本地的ARP请求、绑定本地回环地址</span><br><span class="line">start)</span><br><span class="line">    /sbin/ifconfig lo down</span><br><span class="line">    /sbin/ifconfig lo up</span><br><span class="line">    echo &quot;1&quot; &gt;/proc/sys/net/ipv4/conf/lo/arp_ignore</span><br><span class="line">    echo &quot;2&quot; &gt;/proc/sys/net/ipv4/conf/lo/arp_announce</span><br><span class="line">    echo &quot;1&quot; &gt;/proc/sys/net/ipv4/conf/all/arp_ignore</span><br><span class="line">    echo &quot;2&quot; &gt;/proc/sys/net/ipv4/conf/all/arp_announce</span><br><span class="line">    /sbin/sysctl -p &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">    /sbin/ifconfig lo:0 $VIP netmask 255.255.255.255 up #在回环地址上绑定VIP，设定掩码，与Direct Server（自身）上的IP保持通信</span><br><span class="line">    /sbin/route add -host $VIP dev lo:0</span><br><span class="line">    echo &quot;LVS-DR real server starts successfully.n&quot;</span><br><span class="line">    ;;</span><br><span class="line">stop)</span><br><span class="line">    /sbin/ifconfig lo:0 down</span><br><span class="line">    /sbin/route del $VIP &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">    echo &quot;1&quot; &gt;/proc/sys/net/ipv4/conf/lo/arp_ignore</span><br><span class="line">    echo &quot;2&quot; &gt;/proc/sys/net/ipv4/conf/lo/arp_announce</span><br><span class="line">    echo &quot;1&quot; &gt;/proc/sys/net/ipv4/conf/all/arp_ignore</span><br><span class="line">    echo &quot;2&quot; &gt;/proc/sys/net/ipv4/conf/all/arp_announce</span><br><span class="line">echo &quot;LVS-DR real server stopped.n&quot;</span><br><span class="line">    ;;</span><br><span class="line">status)</span><br><span class="line">    isLoOn=`/sbin/ifconfig lo:0 | grep &quot;$VIP&quot;`</span><br><span class="line">    isRoOn=`/bin/netstat -rn | grep &quot;$VIP&quot;`</span><br><span class="line">    if [ &quot;$isLoON&quot; == &quot;&quot; -a &quot;$isRoOn&quot; == &quot;&quot; ]; then</span><br><span class="line">        echo &quot;LVS-DR real server has run yet.&quot;</span><br><span class="line">    else</span><br><span class="line">        echo &quot;LVS-DR real server is running.&quot;</span><br><span class="line">    fi</span><br><span class="line">    exit 3</span><br><span class="line">    ;;</span><br><span class="line">*)</span><br><span class="line">    echo &quot;Usage: $0 &#123;start|stop|status&#125;&quot;</span><br><span class="line">    exit 1</span><br><span class="line">esac</span><br><span class="line">exit 0</span><br></pre></td></tr></table></figure>
<p>将lvs脚本加入开机自启动</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># chmod +x /etc/init.d/realserver</span><br><span class="line"># echo &quot;/etc/init.d/realserver&quot; &gt;&gt; /etc/rc.d/rc.local</span><br></pre></td></tr></table></figure>
<p>分别启动LVS和keepalived</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># service realserver start</span><br><span class="line"># service keepalived start</span><br></pre></td></tr></table></figure>
<p>注意此时网卡的变化，可以看到虚拟网卡已经分配到了realserver上。</p>
<p>此时查看LVS集群状态，可以看到集群下有两个Real Server，调度算法，权重等信息。ActiveConn代表当前Real Server的活跃连接数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># ipvsadm -ln</span><br><span class="line">IP Virtual Server version 1.2.1 (size=4096)</span><br><span class="line">Prot LocalAddress:Port Scheduler Flags</span><br><span class="line">  -&gt; RemoteAddress:Port           Forward Weight ActiveConn InActConn</span><br><span class="line">TCP  192.168.1.100:3306 wrr persistent 50</span><br><span class="line">  -&gt; 192.168.1.5:3306             Route   3      4          1         </span><br><span class="line">  -&gt; 192.168.1.6:3306             Route   3      0          2</span><br></pre></td></tr></table></figure>
<p>此时LVS+Keepalived+MySQL主主复制已经搭建完成。</p>
<h2 id="测试验证"><a href="#测试验证" class="headerlink" title="测试验证"></a>测试验证</h2><p><strong> 功能性验证 </strong></p>
<p>关闭MySQL Server2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># service mysqld stop</span><br></pre></td></tr></table></figure>
<p>在LVS1查看/var/log/messages中关于keepalived日志，LVS1检测到了MySQL Server2宕机，同时LVS集群自动剔除了故障节点</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Sep  9 13:50:53 192.168.1.2 Keepalived_healthcheckers[18797]: TCP connection to [192.168.1.6]:3306 failed !!!</span><br><span class="line">Sep  9 13:50:53 192.168.1.2 Keepalived_healthcheckers[18797]: Removing service [192.168.1.6]:3306 from VS [192.168.1.100]:3306</span><br></pre></td></tr></table></figure>
<p>从新启动MySQL Server2后自动将故障节点自动加入LVS集群</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Sep  9 13:51:41 192.168.1.2 Keepalived_healthcheckers[18797]: TCP connection to [192.168.1.6]:3306 success.</span><br><span class="line">Sep  9 13:51:41 192.168.1.2 Keepalived_healthcheckers[18797]: Adding service [192.168.1.6]:3306 to VS [192.168.1.100]:3306</span><br></pre></td></tr></table></figure>
<p>关闭LVS1上的Keepalived（模拟宕机操作），查看LVS1上的日志，可以看到Keepalived移出了LVS1上的VIP</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Sep  9 14:01:27 192.168.1.2 Keepalived[18796]: Stopping Keepalived v1.2.13 (09/09,2014)</span><br><span class="line">Sep  9 14:01:27 192.168.1.2 Keepalived_healthcheckers[18797]: Removing service [192.168.1.5]:3306 from VS [192.168.1.100]:3306</span><br><span class="line">Sep  9 14:01:27 192.168.1.2 Keepalived_healthcheckers[18797]: Removing service [192.168.1.6]:3306 from VS [192.168.1.100]:3306</span><br><span class="line">Sep  9 14:01:27 192.168.1.2 Keepalived_vrrp[18799]: VRRP_Instance(VI_1) sending 0 priority</span><br><span class="line">Sep  9 14:01:27 192.168.1.2 Keepalived_vrrp[18799]: VRRP_Instance(VI_1) removing protocol VIPs.</span><br></pre></td></tr></table></figure>
<p>同时查看LVS2上日志，可以看到LVS2成为了Master，并接管了VIP</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Sep  9 14:11:24 192.168.1.11 Keepalived_vrrp[7457]: VRRP_Instance(VI_1) Transition to MASTER STATE</span><br><span class="line">Sep  9 14:11:25 192.168.1.11 Keepalived_vrrp[7457]: VRRP_Instance(VI_1) Entering MASTER STATE</span><br><span class="line">Sep  9 14:11:25 192.168.1.11 Keepalived_vrrp[7457]: VRRP_Instance(VI_1) setting protocol VIPs.</span><br><span class="line">Sep  9 14:11:25 192.168.1.11 Keepalived_vrrp[7457]: VRRP_Instance(VI_1) Sending gratuitous ARPs on eth0 for 192.168.1.100</span><br><span class="line">Sep  9 14:11:25 192.168.1.11 Keepalived_healthcheckers[7456]: Netlink reflector reports IP 192.168.1.100 added</span><br><span class="line">Sep  9 14:11:25 192.168.1.11 avahi-daemon[1407]: Registering new address record for 192.168.1.100 on eth0.IPv4.</span><br><span class="line">Sep  9 14:11:30 192.168.1.11 Keepalived_vrrp[7457]: VRRP_Instance(VI_1) Sending gratuitous ARPs on eth0 for 192.168.1.100</span><br></pre></td></tr></table></figure>
<p>在LVS2上查看LVS集群状态，一切正常。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># ipvsadm -ln</span><br><span class="line">IP Virtual Server version 1.2.1 (size=4096)</span><br><span class="line">Prot LocalAddress:Port Scheduler Flags</span><br><span class="line">  -&gt; RemoteAddress:Port           Forward Weight ActiveConn InActConn</span><br><span class="line">TCP  192.168.1.100:3306 wrr persistent 50</span><br><span class="line">  -&gt; 192.168.1.5:3306             Route   3      2          0         </span><br><span class="line">  -&gt; 192.168.1.6:3306             Route   3      1          0</span><br></pre></td></tr></table></figure>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>MySQL主主复制是集群的基础，组成Server Array，其中每个节点作为Real Server。</p>
<p>LVS服务器提供了负载均衡的作用，将用户请求分发到Real Server，一台Real Server故障并不会影响整个集群。</p>
<p>Keepalived搭建主备LVS服务器，避免了LVS服务器的单点故障，出现故障时可以自动切换到正常的节点。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://avatars2.githubusercontent.com/u/3354580?v=3&s=460"
               alt="Hillock" />
          <p class="site-author-name" itemprop="name">Hillock</p>
          <p class="site-description motion-element" itemprop="description">开发笔记而已～～～</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">137</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/liuhill" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/LiuLig" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/liuhill" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hillock</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	




  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  

  


</body>
</html>
