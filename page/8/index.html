<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-128x128-bolder.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-bolder.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-bolder.png">
  <link rel="mask-icon" href="/images/wulai-bolder.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.wulai.me","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="努力奔跑，向着诗和远方">
<meta property="og:type" content="website">
<meta property="og:title" content="无来">
<meta property="og:url" content="https://www.wulai.me/page/8/index.html">
<meta property="og:site_name" content="无来">
<meta property="og:description" content="努力奔跑，向着诗和远方">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Hillock">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://www.wulai.me/page/8/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>无来</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-81208215-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-81208215-1');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">无来</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">不管你来还是不来<br />我都在这里，夜夜点亮<br />不是为了守候<br />只是为了做好我自己</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.wulai.me/2017/05/22/MySQL-%E5%8E%BB%E6%8E%89%E5%AD%97%E6%AE%B5%E4%B8%AD%E7%9A%84%E6%8D%A2%E8%A1%8C%E5%92%8C%E5%9B%9E%E8%BD%A6%E7%AC%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://res.hillock.com.cn/cola.jpg">
      <meta itemprop="name" content="Hillock">
      <meta itemprop="description" content="努力奔跑，向着诗和远方">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无来">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/05/22/MySQL-%E5%8E%BB%E6%8E%89%E5%AD%97%E6%AE%B5%E4%B8%AD%E7%9A%84%E6%8D%A2%E8%A1%8C%E5%92%8C%E5%9B%9E%E8%BD%A6%E7%AC%A6/" class="post-title-link" itemprop="url">MySQL 去掉字段中的换行和回车符</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-05-22 10:39:21" itemprop="dateCreated datePublished" datetime="2017-05-22T10:39:21+08:00">2017-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-05-30 22:24:56" itemprop="dateModified" datetime="2024-05-30T22:24:56+08:00">2024-05-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script src="/assets/js/APlayer.min.js"> </script><p>解决方法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UPDATE tablename SET field = REPLACE(REPLACE(field, CHAR(10), &#x27;&#x27;), CHAR(13), &#x27;&#x27;);</span><br><span class="line">char(10):  换行符</span><br><span class="line">char(13):  回车符</span><br></pre></td></tr></table></figure>
<p>MySQL的trim函数没办法去掉回车和换行，只能去掉多余的空格，可以用MySQL的replace函数，解决掉这个问题，具体解决办法如下：</p>
<p>假设想要审核数据库中内容为“我爱你<br>”的短信息（注意内容后有换行）通过（status改变成1）</p>
<p>之前的SQL语句是不起作用的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UPDATE `tran`</span><br><span class="line">SET `status` = &#x27;1&#x27;</span><br><span class="line">WHERE `msg` = &#x27;我爱你&#x27;;</span><br></pre></td></tr></table></figure>
<p>修改之后的语句</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UPDATE `tran`</span><br><span class="line">SET `status` = &#x27;1&#x27;</span><br><span class="line">WHERE trim( replace( `msg`, &#x27;\r\n&#x27;, &#x27; &#x27; ) ) = &#x27;我爱你&#x27;;</span><br></pre></td></tr></table></figure>

<p>把数据中的回车换行等替换成空格之后再trim掉，就达到目的了，虽然不是特别完美，但是由于没办法在用户录入的时候控制，所以只能出此下策，好在MySQL内置函数的效率还是很有保证的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">UPDATE `tran`</span><br><span class="line">SET `status` = &#x27;1&#x27;</span><br><span class="line">WHERE trim( trim(</span><br><span class="line">BOTH &#x27;\r\n&#x27;</span><br><span class="line">FROM content ) ) = &#x27;我爱你&#x27;</span><br></pre></td></tr></table></figure>
<p>用了两个trim，这样的好处是不会替换内容中间的换行和回车，只会处理头尾的空格换行回车，相当于php中trim函数的作用了。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.wulai.me/2017/05/12/12%E4%B8%AA%E9%9D%9E%E5%B8%B8%E6%9C%89%E7%94%A8%E7%9A%84JavaScript%E6%8A%80%E5%B7%A7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://res.hillock.com.cn/cola.jpg">
      <meta itemprop="name" content="Hillock">
      <meta itemprop="description" content="努力奔跑，向着诗和远方">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无来">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/05/12/12%E4%B8%AA%E9%9D%9E%E5%B8%B8%E6%9C%89%E7%94%A8%E7%9A%84JavaScript%E6%8A%80%E5%B7%A7/" class="post-title-link" itemprop="url">12个非常有用的JavaScript技巧</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-05-12 08:49:44" itemprop="dateCreated datePublished" datetime="2017-05-12T08:49:44+08:00">2017-05-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-05-30 22:24:56" itemprop="dateModified" datetime="2024-05-30T22:24:56+08:00">2024-05-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script src="/assets/js/APlayer.min.js"> </script><blockquote>
<p>原文：<a target="_blank" rel="noopener" href="https://blog.jscrambler.com/12-extremely-useful-hacks-for-javascript/?utm_source=tuicool&utm_medium=referral">12 Extremely Useful Hacks for JavaScript</a></p>
</blockquote>
<blockquote>
<p>作者：Caio Ribeiro Pereira</p>
</blockquote>
<blockquote>
<p>翻译：雁惊寒</p>
</blockquote>
<p>在这篇文章中，我将分享12个非常有用的JavaScript技巧。这些技巧可以帮助你减少并优化代码。</p>
<h3 id="1-使用-将变量转换成布尔类型"><a href="#1-使用-将变量转换成布尔类型" class="headerlink" title="1) 使用!!将变量转换成布尔类型"></a>1) 使用!!将变量转换成布尔类型</h3><p>有时，我们需要检查一些变量是否存在，或者它是否具有有效值，从而将它们的值视为true。对于做这样的检查，你可以使用||（双重否定运算符），它能自动将任何类型的数据转换为布尔值，只有这些变量才会返回false：0，null，””，undefined或NaN，其他的都返回true。我们来看看这个简单的例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function Account(cash) &#123;  </span><br><span class="line">    this.cash = cash;</span><br><span class="line">    this.hasMoney = !!cash;</span><br><span class="line">&#125;</span><br><span class="line">var account = new Account(100.50);  </span><br><span class="line">console.log(account.cash); // 100.50  </span><br><span class="line">console.log(account.hasMoney); // true</span><br><span class="line"></span><br><span class="line">var emptyAccount = new Account(0);  </span><br><span class="line">console.log(emptyAccount.cash); // 0  </span><br><span class="line">console.log(emptyAccount.hasMoney); // false  </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>在这个例子中，如果account.cash的值大于零，则account.hasMoney的值就是true。</p>
<h3 id="2-使用-将变量转换成数字"><a href="#2-使用-将变量转换成数字" class="headerlink" title="2) 使用+将变量转换成数字"></a>2) 使用+将变量转换成数字</h3><p>这个转换超级简单，但它只适用于数字字符串，不然就会返回NaN（不是数字）。看看这个例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function toNumber(strNumber) &#123;  </span><br><span class="line">    return +strNumber;</span><br><span class="line">&#125;</span><br><span class="line">console.log(toNumber(&quot;1234&quot;)); // 1234  </span><br><span class="line">console.log(toNumber(&quot;ACB&quot;)); // NaN  </span><br></pre></td></tr></table></figure>
<p>这个转换操作也可以作用于Date，在这种情况下，它将返回时间戳：</p>
<pre><code>console.log(+new Date()) // 1461288164385  </code></pre><h3 id="3-短路条件"><a href="#3-短路条件" class="headerlink" title="3) 短路条件"></a>3) 短路条件</h3><p>如果你看到过这种类似的代码:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if (conected) &#123;  </span><br><span class="line">    login();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>那么你可以在这两个变量之间使用&amp;&amp;（AND运算符）来缩短代码。例如，前面的代码可以缩减到一行：</p>
<pre><code>conected &amp;&amp; login();  </code></pre><p>你也可以用这种方法来检查对象中是否存在某些属性或函数。类似于以下代码：</p>
<pre><code>user &amp;&amp; user.login();</code></pre><h3 id="4-使用-设置默认值"><a href="#4-使用-设置默认值" class="headerlink" title="4) 使用||设置默认值"></a>4) 使用||设置默认值</h3><p>在ES6中有默认参数这个功能。为了在旧版浏览器中模拟此功能，你可以使用||（OR运算符），并把默认值作为它的第二个参数。如果第一个参数返回false，那么第二个参数将会被作为默认值返回。看下这个例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function User(name, age) &#123;  </span><br><span class="line">    this.name = name || &quot;Oliver Queen&quot;;</span><br><span class="line">    this.age = age || 27;</span><br><span class="line">&#125;</span><br><span class="line">var user1 = new User();  </span><br><span class="line">console.log(user1.name); // Oliver Queen  </span><br><span class="line">console.log(user1.age); // 27</span><br><span class="line"></span><br><span class="line">var user2 = new User(&quot;Barry Allen&quot;, 25);  </span><br><span class="line">console.log(user2.name); // Barry Allen  </span><br><span class="line">console.log(user2.age); // 25  </span><br></pre></td></tr></table></figure>

<h3 id="5-在循环中缓存array-length"><a href="#5-在循环中缓存array-length" class="headerlink" title="5) 在循环中缓存array.length"></a>5) 在循环中缓存array.length</h3><p>这个技巧非常简单，并且在循环处理大数组时能够避免对性能造成巨大的影响。基本上几乎每个人都是这样使用for来循环遍历一个数组的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (var i = 0; i &lt; array.length; i++) &#123;  </span><br><span class="line">    console.log(array[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果你使用较小的数组，那还好，但是如果处理大数组，则此代码将在每个循环里重复计算数组的大小，这会产生一定的延迟。为了避免这种情况，你可以在变量中缓存array.length，以便在循环中每次都使用缓存来代替array.length：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var length = array.length;  </span><br><span class="line">for (var i = 0; i &lt; length; i++) &#123;  </span><br><span class="line">    console.log(array[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>为了更简洁，可以这么写：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (var i = 0, length = array.length; i &lt; length; i++) &#123;  </span><br><span class="line">    console.log(array[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-检测对象中的属性"><a href="#6-检测对象中的属性" class="headerlink" title="6) 检测对象中的属性"></a>6) 检测对象中的属性</h3><p>当你需要检查某些属性是否存在，避免运行未定义的函数或属性时，这个技巧非常有用。如果你打算编写跨浏览器代码，你也可能会用到这个技术。例如，我们假设你需要编写与旧版Internet Explorer 6兼容的代码，并且想要使用document.querySelector()来通过ID获取某些元素。 但是，在现代浏览器中，这个函数不存在。所以，要检查这个函数是否存在，你可以使用in运算符。看下这个例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if (&#x27;querySelector&#x27; in document) &#123;  </span><br><span class="line">    document.querySelector(&quot;#id&quot;);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    document.getElementById(&quot;id&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在这种情况下，如果在document中没有querySelector函数，它就会使用document.getElementById()作为代替。</p>
<h3 id="7-获取数组的最后一个元素"><a href="#7-获取数组的最后一个元素" class="headerlink" title="7) 获取数组的最后一个元素"></a>7) 获取数组的最后一个元素</h3><p>Array.prototype.slice（begin，end）可以用来裁剪数组。但是如果没有设置结束参数end的值的话，该函数会自动将end设置为数组长度值。我认为很少有人知道这个函数可以接受负值，如果你将begin设置一个负数的话，你就能从数组中获取到倒数的元素：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var array = [1, 2, 3, 4, 5, 6];  </span><br><span class="line">console.log(array.slice(-1)); // [6]  </span><br><span class="line">console.log(array.slice(-2)); // [5,6]  </span><br><span class="line">console.log(array.slice(-3)); // [4,5,6]  </span><br></pre></td></tr></table></figure>
<h3 id="8-数组截断"><a href="#8-数组截断" class="headerlink" title="8) 数组截断"></a>8) 数组截断</h3><p>这个技术可以锁定数组的大小，这对于要删除数组中固定数量的元素是非常有用的。例如，如果你有一个包含10个元素的数组，但是你只想获得前五个元素，则可以通过设置array.length = 5来阶段数组。看下这个例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var array = [1, 2, 3, 4, 5, 6];  </span><br><span class="line">console.log(array.length); // 6  </span><br><span class="line">array.length = 3;  </span><br><span class="line">console.log(array.length); // 3  </span><br><span class="line">console.log(array); // [1,2,3]  </span><br></pre></td></tr></table></figure>
<h3 id="9-全部替换"><a href="#9-全部替换" class="headerlink" title="9) 全部替换"></a>9) 全部替换</h3><p>String.replace()函数允许使用String和Regex来替换字符串，这个函数本身只能替换第一个匹配的串。但是你可以在正则表达式末尾添加/g来模拟replaceAll()函数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var string = &quot;john john&quot;;  </span><br><span class="line">console.log(string.replace(/hn/, &quot;ana&quot;)); // &quot;joana john&quot;  </span><br><span class="line">console.log(string.replace(/hn/g, &quot;ana&quot;)); // &quot;joana joana&quot;  </span><br></pre></td></tr></table></figure>
<h3 id="10-合并数组"><a href="#10-合并数组" class="headerlink" title="10) 合并数组"></a>10) 合并数组</h3><p>如果你需要合并两个数组，你可以使用Array.concat()函数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var array1 = [1, 2, 3];  </span><br><span class="line">var array2 = [4, 5, 6];  </span><br><span class="line">console.log(array1.concat(array2)); // [1,2,3,4,5,6];  </span><br></pre></td></tr></table></figure>
<p>但是，这个函数对于大数组来说不并合适，因为它将会创建一个新的数组并消耗大量的内存。在这种情况下，你可以使用Array.push.apply（arr1，arr2），它不会创建一个新数组，而是将第二个数组合并到第一个数组中，以减少内存使用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var array1 = [1, 2, 3];  </span><br><span class="line">var array2 = [4, 5, 6];  </span><br><span class="line">console.log(array1.push.apply(array1, array2)); // [1,2,3,4,5,6];  </span><br></pre></td></tr></table></figure>

<h3 id="11-把NodeList转换成数组"><a href="#11-把NodeList转换成数组" class="headerlink" title="11) 把NodeList转换成数组"></a>11) 把NodeList转换成数组</h3><p>如果运行document.querySelectorAll(“p”)函数，它会返回一个DOM元素数组，即NodeList对象。但是这个对象并没有一些属于数组的函数，例如：sort()，reduce()，map()，filter()。为了启用这些函数，以及数组的其他的原生函数，你需要将NodeList转换为数组。要进行转换，只需使用这个函数：[] .slice.call（elements）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var elements = document.querySelectorAll(&quot;p&quot;); // NodeList  </span><br><span class="line">var arrayElements = [].slice.call(elements); // 现在已经转换成数组了</span><br><span class="line">var arrayElements = Array.from(elements); // 把NodeList转换成数组的另外一个方法</span><br></pre></td></tr></table></figure>

<h3 id="12-对数组元素进行洗牌"><a href="#12-对数组元素进行洗牌" class="headerlink" title="12) 对数组元素进行洗牌"></a>12) 对数组元素进行洗牌</h3><p>如果要像外部库Lodash那样对数据元素重新洗牌，只需使用这个技巧：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var list = [1, 2, 3];  </span><br><span class="line">console.log(list.sort(function() &#123;  </span><br><span class="line">    return Math.random() - 0.5</span><br><span class="line">&#125;)); // [2,1,3]</span><br></pre></td></tr></table></figure>
<h3 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h3><p>现在，你已经学到了一些有用的JS技巧，它们主要用于缩减JavaScript代码量，其中一些技巧在许多流行的JS框架都使用到，如Lodash，Underscore.js，Strings.js等。如果你知道其他JS技巧，欢迎分享！</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.wulai.me/2017/03/25/%E2%86%90-imaxabsConfigure-HUAWEI-E1750-HSPA-USB-Stick-in-Linux-%E2%86%92Configure-USB-modem-HUAWEI-E3131-in-Linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://res.hillock.com.cn/cola.jpg">
      <meta itemprop="name" content="Hillock">
      <meta itemprop="description" content="努力奔跑，向着诗和远方">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无来">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/03/25/%E2%86%90-imaxabsConfigure-HUAWEI-E1750-HSPA-USB-Stick-in-Linux-%E2%86%92Configure-USB-modem-HUAWEI-E3131-in-Linux/" class="post-title-link" itemprop="url">imaxabsConfigure HUAWEI E1750 HSPA USB Stick in Linux → Configure USB modem HUAWEI E3131 in Linux</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-03-25 13:24:18" itemprop="dateCreated datePublished" datetime="2017-03-25T13:24:18+08:00">2017-03-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-05-30 22:24:56" itemprop="dateModified" datetime="2024-05-30T22:24:56+08:00">2024-05-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script src="/assets/js/APlayer.min.js"> </script><p>For installing device HUAWEI E3131 in CentOS 6.4 Linux you have to follow instructions below. Can be used to send SMS by AT command and also to establish HiSpeed Mobile Internet connection.</p>
<p>##Install requirements</p>
<p>You have to download usb_modeswitch and data with configurations.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]$ wget http://www.draisberghof.de/usb_modeswitch/usb-modeswitch-1.2.7.tar.bz2</span><br><span class="line">[root@localhost ~]$ wget http://www.draisberghof.de/usb_modeswitch/usb-modeswitch-data-20130807.tar.bz2</span><br><span class="line">[root@localhost ~]$ yum install libusb libusb-devel minicom wvdial</span><br><span class="line">[root@localhost ~]$ bzip2 -d usb-modeswitch-1.2.7.tar.bz2</span><br><span class="line">[root@localhost ~]$ bzip2 -d usb-modeswitch-data-20130807.tar.bz2</span><br><span class="line">[root@localhost ~]$ tar -xf usb-modeswitch-1.2.7.tar</span><br><span class="line">[root@localhost ~]$ tar -xf usb-modeswitch-data-20130807.tar</span><br><span class="line">[root@localhost ~]$ cd usb-modeswitch-1.2.7</span><br><span class="line">[root@localhost usb-modeswitch-1.2.7]$ make all</span><br><span class="line">cc -o usb_modeswitch usb_modeswitch.c -Wall -l usb</span><br><span class="line">sed &#x27;s_!/usr/bin/tclsh_!&#x27;&quot;/usr/bin/jimsh&quot;&#x27;_&#x27; &lt; usb_modeswitch.tcl &gt; usb_modeswitch_dispatcher</span><br><span class="line">[root@localhost usb-modeswitch-1.2.7]$ make install</span><br><span class="line">sed &#x27;s_!/usr/bin/tclsh_!&#x27;&quot;/usr/bin/jimsh&quot;&#x27;_&#x27; &lt; usb_modeswitch.tcl &gt; usb_modeswitch_dispatcher</span><br><span class="line">install -D --mode=755 usb_modeswitch /usr/sbin/usb_modeswitch</span><br><span class="line">install -D --mode=755 usb_modeswitch.sh /lib/udev/usb_modeswitch</span><br><span class="line">install -D --mode=644 usb_modeswitch.conf /etc/usb_modeswitch.conf</span><br><span class="line">install -D --mode=644 usb_modeswitch.1 /usr/share/man/man1/usb_modeswitch.1</span><br><span class="line">install -D --mode=755 usb_modeswitch_dispatcher /usr/sbin/usb_modeswitch_dispatcher</span><br><span class="line">install -d /var/lib/usb_modeswitch</span><br><span class="line">[root@localhost usb-modeswitch-1.2.7]$ cd ..</span><br><span class="line">[root@localhost ~]$ cd usb-modeswitch-data-20130807</span><br><span class="line">[root@localhost usb-modeswitch-data-20130807]$ make install</span><br><span class="line">install -d /usr/share/usb_modeswitch</span><br><span class="line">install -d /etc/usb_modeswitch.d</span><br><span class="line">install -D --mode=644 40-usb_modeswitch.rules /lib/udev/rules.d/40-usb_modeswitch.rules</span><br><span class="line">install --mode=644 -t /usr/share/usb_modeswitch ./usb_modeswitch.d/*</span><br><span class="line">custom logging function 0x7fd5344c7010 registered</span><br><span class="line">selinux=0</span><br><span class="line">calling: control</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Manual-configuration"><a href="#Manual-configuration" class="headerlink" title="Manual configuration"></a>Manual configuration</h2><p>Now we have to install modules and configure device to modem mode.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]$ lsusb</span><br><span class="line">Bus 001 Device 029: ID 12d1:14fe Huawei Technologies Co., Ltd.</span><br><span class="line">[root@localhost ~]$ modprobe option usbserial usb_wwan</span><br><span class="line">[root@localhost ~]$ /usr/sbin/usb_modeswitch -H -v 12d1 -p 14fe -c /etc/usb_modeswitch.d/12d1\:14fe</span><br><span class="line">[root@localhost ~]$ lsusb</span><br><span class="line">Bus 001 Device 030: ID 12d1:1506 Huawei Technologies Co., Ltd. E398 LTE/UMTS/GSM Modem/Networkcard</span><br><span class="line">[root@localhost ~]$ ls -la /dev/ttyUSB*</span><br><span class="line">crw-rw---- 1 root dialout 188,  0 23. srp 08.49 /dev/ttyUSB0</span><br><span class="line">crw-rw---- 1 root dialout 188,  1 23. srp 08.49 /dev/ttyUSB1</span><br><span class="line">crw-rw---- 1 root dialout 188,  2 23. srp 08.49 /dev/ttyUSB2</span><br><span class="line">crw-rw---- 1 root dialout 188,  3 23. srp 08.49 /dev/ttyUSB3</span><br></pre></td></tr></table></figure>

<h2 id="Testing"><a href="#Testing" class="headerlink" title="Testing"></a>Testing</h2><p>Now we have 4 USB serial ports then we can use minicom -s -c on command to test send SMS by<br>AT commands. For dialup internet you have to use wvdial.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Now we have 4 USB serial ports then we can use minicom -s -c on command to test send SMS by</span><br><span class="line">AT commands. For dialup internet you have to use wvdial.</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[Dialer Defaults]</span><br><span class="line">Init1 = AT+CGDCONT=1,&quot;IP&quot;,&quot;internet.t-mobile.cz&quot;</span><br><span class="line">Init2 =</span><br><span class="line">Init3 =</span><br><span class="line">Stupid Mode = 1</span><br><span class="line">Ask Password = 0</span><br><span class="line">Phone = *99***1#</span><br><span class="line">Modem = /dev/ttyUSB0</span><br><span class="line">Username = neco</span><br><span class="line">Password = neco</span><br><span class="line">Baud = 9600</span><br><span class="line">Auto DNS = yes</span><br><span class="line">Dial Command = ATDT</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ystem: CentOS 6.4 x86_64<br>GIMP: 2.6 x86_64<br>Inkscape: 0.47 x86_64<br>GNOME: 2.28.2 x86_64</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.wulai.me/2017/03/23/Shell-%E5%89%8D%E5%90%8E%E5%8F%B0%E8%BF%9B%E7%A8%8B%E5%88%87%E6%8D%A2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://res.hillock.com.cn/cola.jpg">
      <meta itemprop="name" content="Hillock">
      <meta itemprop="description" content="努力奔跑，向着诗和远方">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无来">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/03/23/Shell-%E5%89%8D%E5%90%8E%E5%8F%B0%E8%BF%9B%E7%A8%8B%E5%88%87%E6%8D%A2/" class="post-title-link" itemprop="url">Shell 前后台进程切换</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-03-23 09:19:29" itemprop="dateCreated datePublished" datetime="2017-03-23T09:19:29+08:00">2017-03-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-05-30 22:24:56" itemprop="dateModified" datetime="2024-05-30T22:24:56+08:00">2024-05-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script src="/assets/js/APlayer.min.js"> </script><p>Shell 前后台进程切换</p>
<p>当你用 shell 启动一个程序时，往往他是在前台工作的。比如执行命令</p>
<pre><code>redis-server</code></pre><p>启动 redis 后，shell 就不能再输入了。因为此时 redis 在前台。</p>
<p>Shell 支持作用控制，有以下命令：</p>
<ul>
<li>command &amp; 让进程在后台运行</li>
<li>jobs –l 查看后台运行的进程</li>
<li>fg %n 让后台运行的进程 n 到前台来</li>
<li>bg %n 让进程 n 到后台去;</li>
</ul>
<p><code>PS：n 为 jobs 查看到的进程编号。</code></p>
<h3 id="1、执行命令-amp-切换至后台"><a href="#1、执行命令-amp-切换至后台" class="headerlink" title="1、执行命令 &amp; 切换至后台"></a>1、执行命令 &amp; 切换至后台</h3><p>在 Mac 终端运行命令的时候，在命令末尾加上 &amp; 符号，就可以让程序在后台运行</p>
<h3 id="2、切换正在运行的程序到后台"><a href="#2、切换正在运行的程序到后台" class="headerlink" title="2、切换正在运行的程序到后台"></a>2、切换正在运行的程序到后台</h3><p>如果程序正在前台运行，可以使用 Ctrl+z 选项把程序暂停，然后用 bg %[number] 命令把这个程序放到后台运行，这个步骤分为3步，如下：</p>
<h4 id="2-1-暂停程序运行Ctrl-z"><a href="#2-1-暂停程序运行Ctrl-z" class="headerlink" title="2.1 暂停程序运行Ctrl+z"></a>2.1 暂停程序运行Ctrl+z</h4><p>Ctrl+z 跟系统任务有关的，Ctrl+z 可以将一个正在前台执行的命令放到后台，并且暂停。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜ /Users/apple git:(master) ✗&gt; redis-server</span><br><span class="line"></span><br><span class="line">^Z</span><br><span class="line">[1]  + 18669 suspended  redis-server</span><br></pre></td></tr></table></figure>
<h4 id="2-2-查看暂停的程序"><a href="#2-2-查看暂停的程序" class="headerlink" title="2.2 查看暂停的程序"></a>2.2 查看暂停的程序</h4><p>察看 jobs 使用 jobs 或 ps 命令可以察看正在执行的 jobs</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜ /Users/apple git:(master) ✗&gt; jobs -l</span><br><span class="line">[1]  + running    redis-server</span><br></pre></td></tr></table></figure>
<ul>
<li><p>jobs 命令执行的结果，+ 表示是一个当前的作业，减号表示是当前作业之后的一个作业。</p>
</li>
<li><p>jobs -l 选项可显示所有任务的 PID，jobs 的状态可以是 running， stopped， Terminated</p>
</li>
</ul>
<h4 id="2-3-切换程序至后台"><a href="#2-3-切换程序至后台" class="headerlink" title="2.3 切换程序至后台"></a>2.3 切换程序至后台</h4><p>bg 将一个在后台暂停的命令，变成继续执行如果后台中有多个命令，可以用 bg %jobnumber 将选中的命令调出.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜ /Users/apple git:(source) ✗&gt; bg</span><br><span class="line">[1]  + 18823 continued  redis-server</span><br><span class="line">➜ /Users/apple git:(source) ✗&gt; jobs -l</span><br><span class="line">[1]  + 18823 running    redis-server</span><br></pre></td></tr></table></figure>

<h4 id="2-4-切换程序至前台"><a href="#2-4-切换程序至前台" class="headerlink" title="2.4 切换程序至前台"></a>2.4 切换程序至前台</h4><p>也可以用 <code>fg %[number]</code> 指令把一个程序掉到前台运行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜ /Users/apple git:(source) ✗&gt; fg %1</span><br><span class="line">[1]  + 18823 running    redis-server</span><br></pre></td></tr></table></figure>
<h4 id="2-5-终止后台程序"><a href="#2-5-终止后台程序" class="headerlink" title="2.5 终止后台程序"></a>2.5 终止后台程序</h4><p>也可以直接终止后台运行的程序，使用 kill 命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">➜ /Users/apple git:(source) ✗&gt; kill %1</span><br></pre></td></tr></table></figure>
<p>但是如果任务被终止了 kill，shell 从当前的 shell 环境已知的列表中删除任务的进程标识;也就是说，jobs 命令显示的是当前 shell 环境中所起的后台正在运行或者被挂起的任务信息。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.wulai.me/2017/03/22/Can-t-resume-screen-says-I-am-already-attached/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://res.hillock.com.cn/cola.jpg">
      <meta itemprop="name" content="Hillock">
      <meta itemprop="description" content="努力奔跑，向着诗和远方">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无来">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/03/22/Can-t-resume-screen-says-I-am-already-attached/" class="post-title-link" itemprop="url">Can't resume screen, says I am already attached?</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-03-22 16:54:10" itemprop="dateCreated datePublished" datetime="2017-03-22T16:54:10+08:00">2017-03-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-05-30 22:24:56" itemprop="dateModified" datetime="2024-05-30T22:24:56+08:00">2024-05-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script src="/assets/js/APlayer.min.js"> </script><p>he session is still attached on another terminal. The server hasn’t detected the network outage on that connection: it only detects the outage when it tries to send a packet and gets an error back or no response after a timeout, but this hasn’t happened yet. You’re in a common situation where the client detected the outage because it tried to send some input and failed, but the server is just sitting there waiting for input. Eventually the server will send a keepalive packet and detect that the connection is dead.</p>
<p>In the meantime, use the <code>-d</code> option to detach the screen session from the terminal where it’s in.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">screen -r -d 30608</span><br><span class="line">screen -rd is pretty much the standard way to attach to an</span><br></pre></td></tr></table></figure>
<p>existing screen session.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.wulai.me/2017/03/10/Save-MySQL-query-results-into-a-text-or-CSV-file/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://res.hillock.com.cn/cola.jpg">
      <meta itemprop="name" content="Hillock">
      <meta itemprop="description" content="努力奔跑，向着诗和远方">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无来">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/03/10/Save-MySQL-query-results-into-a-text-or-CSV-file/" class="post-title-link" itemprop="url">Save MySQL query results into a text or CSV file</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-03-10 17:37:27" itemprop="dateCreated datePublished" datetime="2017-03-10T17:37:27+08:00">2017-03-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-05-30 22:24:56" itemprop="dateModified" datetime="2024-05-30T22:24:56+08:00">2024-05-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script src="/assets/js/APlayer.min.js"> </script><p>MySQL provides an easy mechanism for writing the results of a select statement into a text file on the server. Using extended options of the INTO OUTFILE nomenclature, it is possible to create a comma separated value (CSV) which can be imported into a spreadsheet application such as OpenOffice or Excel or any other applciation which accepts data in CSV format.</p>
<p>Given a query such as</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT order_id,product_name,qty FROM orders</span><br></pre></td></tr></table></figure>

<p>which returns three columns of data, the results can be placed into the file /tmo/orders.txt using the query:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT order_id,product_name,qty FROM orders</span><br><span class="line">INTO OUTFILE &#x27;/tmp/orders.txt&#x27;</span><br></pre></td></tr></table></figure>

<p>This will create a tab-separated file, each row on its own line. To alter this behavior, it is possible to add modifiers to the query:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT order_id,product_name,qty FROM orders</span><br><span class="line">INTO OUTFILE &#x27;/tmp/orders.csv&#x27;</span><br><span class="line">FIELDS TERMINATED BY &#x27;,&#x27;</span><br><span class="line">ENCLOSED BY &#x27;&quot;&#x27;</span><br><span class="line">LINES TERMINATED BY &#x27;\n&#x27;</span><br></pre></td></tr></table></figure>

<p>In this example, each field will be enclosed in “double quotes,” the fields will be separated by commas, and each row will be output on a new line separated by a newline (\n). Sample output of this command would look like:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;1&quot;,&quot;Tech-Recipes sock puppet&quot;,&quot;14.95&quot; &quot;2&quot;,&quot;Tech-Recipes chef&#x27;s hat&quot;,&quot;18.95&quot;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>Keep in mind that the output file must not already exist and that the user MySQL is running as has write permissions to the directory MySQL is attempting to write the file to.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.wulai.me/2017/03/10/MAGENTO-2-CHANGE-THE-BASE-URL-USING-THE-COMMAND-LINE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://res.hillock.com.cn/cola.jpg">
      <meta itemprop="name" content="Hillock">
      <meta itemprop="description" content="努力奔跑，向着诗和远方">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无来">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/03/10/MAGENTO-2-CHANGE-THE-BASE-URL-USING-THE-COMMAND-LINE/" class="post-title-link" itemprop="url">MAGENTO 2: CHANGE THE BASE-URL USING THE COMMAND LINE</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-03-10 14:21:45" itemprop="dateCreated datePublished" datetime="2017-03-10T14:21:45+08:00">2017-03-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-05-30 22:24:56" itemprop="dateModified" datetime="2024-05-30T22:24:56+08:00">2024-05-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script src="/assets/js/APlayer.min.js"> </script><p>The following Magento 2’s CLI command will update the Magento base-url and the base-url-secure values.</p>
<p>Go to the Magento’s root directory, then type within the console:</p>
<pre><code>php bin/magento setup:store-config:set --base-url=&quot;http://localhost:8080/&quot;</code></pre><p>Replacing <a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080/</a> with your new base-url.</p>
<p>You may want to change the base-url-secure also:</p>
<pre><code>php bin/magento setup:store-config:set --base-url-secure=&quot;https://localhost:8080/&quot;</code></pre><p>Note: both base-url and base-url-secure values must contain the URL’s scheme, http:// or https://, and a trailing slash /.</p>
<p>Then clear the cache:</p>
<pre><code>php bin/magento cache:flush</code></pre><p>Troubleshooting<br>Clear current values from the database<br>Can happen that the above command doesn’t works as expected and you still have some url pointing to the old base-url. In these cases you have to clear some values in your db.</p>
<p>Open the Magento 2 database with your favorite MySQL tool then go to the core_config_data table.</p>
<p>Search for rows having these values in the column path (note that there could be more than one row for each value):</p>
<ul>
<li>“web/unsecure/base_url”</li>
<li>“web/secure/base_url”<br>Delete these rows (Magento will recreate them).</li>
</ul>
<p>Now you can set the base-url value using the above CLI command.</p>
<p>Single-Store Mode option enabled<br>If you have the Single-Store Mode option enabled this could bring to some problem with setting the base-url with the command line.</p>
<p>In this case you should modify the base-url using only the command line and not the Magento’s Admin Panel. If you already saved the Base url field value using the Admin Panel you should clear values within the Magento’s core_config_data table as described above.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.wulai.me/2017/03/10/How-to-remove-old-Docker-containers/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://res.hillock.com.cn/cola.jpg">
      <meta itemprop="name" content="Hillock">
      <meta itemprop="description" content="努力奔跑，向着诗和远方">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无来">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/03/10/How-to-remove-old-Docker-containers/" class="post-title-link" itemprop="url">How to remove old Docker containers</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-03-10 10:08:34" itemprop="dateCreated datePublished" datetime="2017-03-10T10:08:34+08:00">2017-03-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-05-30 22:24:56" itemprop="dateModified" datetime="2024-05-30T22:24:56+08:00">2024-05-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script src="/assets/js/APlayer.min.js"> </script><h3 id="1、remove-exit-containers"><a href="#1、remove-exit-containers" class="headerlink" title="1、remove exit containers"></a>1、remove <code>exit</code> containers</h3><p>Until that command is available, you can string docker commands together with other unix commands to get what you need. Here is an example on how to clean up old containers that are weeks old.</p>
<pre><code>$ docker ps --filter &quot;status=exited&quot; | grep &apos;weeks ago&apos; | awk &apos;&#123;print $1&#125;&apos; | xargs --no-run-if-empty docker rm</code></pre><h3 id="2、remove-images"><a href="#2、remove-images" class="headerlink" title="2、remove images"></a>2、remove images</h3><pre><code>$ docker images | grep &quot;&lt;none&gt;&quot; | awk &apos;&#123;print $3&#125;&apos; | xargs docker rmi</code></pre><h3 id="3-rm-all-stopped-containers"><a href="#3-rm-all-stopped-containers" class="headerlink" title="3 rm all stopped containers"></a>3 rm all <code>stopped</code> containers</h3><p>If you want to use awk for this consider this command if you want do rm all stopped containers (without a error because of the first line):</p>
<pre><code>$ docker ps -a | awk &apos;NR &gt; 1 &#123;print $1&#125;&apos; | xargs docker rm</code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.wulai.me/2017/03/07/linux%E6%96%87%E4%BB%B6%E5%90%8D%E7%BC%96%E7%A0%81%E8%BD%AC%E6%8D%A2%E5%B7%A5%E5%85%B7convmv/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://res.hillock.com.cn/cola.jpg">
      <meta itemprop="name" content="Hillock">
      <meta itemprop="description" content="努力奔跑，向着诗和远方">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无来">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/03/07/linux%E6%96%87%E4%BB%B6%E5%90%8D%E7%BC%96%E7%A0%81%E8%BD%AC%E6%8D%A2%E5%B7%A5%E5%85%B7convmv/" class="post-title-link" itemprop="url">linux文件名编码转换工具convmv</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-03-07 17:07:49" itemprop="dateCreated datePublished" datetime="2017-03-07T17:07:49+08:00">2017-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-05-30 22:24:56" itemprop="dateModified" datetime="2024-05-30T22:24:56+08:00">2024-05-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script src="/assets/js/APlayer.min.js"> </script><p>今天介绍个文件名转码的工具–convmv，convmv能帮助我们很容易地对一个文件，一个目录下所有文件进行编码转换，比如gbk转为utf8等。</p>
<h3 id="语法："><a href="#语法：" class="headerlink" title="语法："></a>语法：</h3><pre><code>convmv [options] FILE(S) … DIRECTORY(S)</code></pre><h3 id="主要选项："><a href="#主要选项：" class="headerlink" title="主要选项："></a>主要选项：</h3><ul>
<li><p>1、-f ENCODING<br>指定目前文件名的编码，如-f gbk</p>
</li>
<li><p>2、-t ENCODING<br>指定将要转换成的编码，如-t utf-8</p>
</li>
<li><p>3、-r<br>递归转换目录下所有文件名</p>
</li>
<li><p>4、–list<br>列出所有支持的编码</p>
</li>
<li><p>5、–notest<br>默认是只打印转换后的效果，加这个选项才真正执行转换操作。</p>
</li>
<li><p>更多选项请man convmv。</p>
</li>
</ul>
<p>例子：<br>递归转换centos目录下的目前文件名编码gbk为utf-8:</p>
<pre><code>convmv -f gbk -t utf-8 --notest -r  centos</code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.wulai.me/2017/03/07/latest-ffmpeg-centos6-sh/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://res.hillock.com.cn/cola.jpg">
      <meta itemprop="name" content="Hillock">
      <meta itemprop="description" content="努力奔跑，向着诗和远方">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无来">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/03/07/latest-ffmpeg-centos6-sh/" class="post-title-link" itemprop="url">latest-ffmpeg-centos6.sh</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-03-07 11:31:15" itemprop="dateCreated datePublished" datetime="2017-03-07T11:31:15+08:00">2017-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-05-30 22:24:56" itemprop="dateModified" datetime="2024-05-30T22:24:56+08:00">2024-05-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script src="/assets/js/APlayer.min.js"> </script><h2 id="脚本-latest-ffmpeg-centos6-sh"><a href="#脚本-latest-ffmpeg-centos6-sh" class="headerlink" title="脚本 latest-ffmpeg-centos6.sh"></a>脚本 <code>latest-ffmpeg-centos6.sh</code></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"># source: https://trac.ffmpeg.org/wiki/CentosCompilationGuide</span><br><span class="line"></span><br><span class="line">yum install autoconf automake gcc gcc-c++ git libtool make nasm pkgconfig zlib-devel</span><br><span class="line"></span><br><span class="line">mkdir ~/ffmpeg_sources</span><br><span class="line"></span><br><span class="line">cd ~/ffmpeg_sources</span><br><span class="line">curl -O http://www.tortall.net/projects/yasm/releases/yasm-1.2.0.tar.gz</span><br><span class="line">tar xzvf yasm-1.2.0.tar.gz</span><br><span class="line">cd yasm-1.2.0</span><br><span class="line">./configure --prefix=&quot;$HOME/ffmpeg_build&quot; --bindir=&quot;$HOME/bin&quot;</span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line">make distclean</span><br><span class="line">. ~/.bash_profile</span><br><span class="line"></span><br><span class="line">cd ~/ffmpeg_sources</span><br><span class="line">git clone --depth 1 git://git.videolan.org/x264</span><br><span class="line">cd x264</span><br><span class="line">./configure --prefix=&quot;$HOME/ffmpeg_build&quot; --bindir=&quot;$HOME/bin&quot; --enable-static</span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line">make distclean</span><br><span class="line"></span><br><span class="line">cd ~/ffmpeg_sources</span><br><span class="line">git clone --depth 1 git://github.com/mstorsjo/fdk-aac.git</span><br><span class="line">cd fdk-aac</span><br><span class="line">autoreconf -fiv</span><br><span class="line">./configure --prefix=&quot;$HOME/ffmpeg_build&quot; --disable-shared</span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line">make distclean</span><br><span class="line"></span><br><span class="line">cd ~/ffmpeg_sources</span><br><span class="line">curl -L -O http://downloads.sourceforge.net/project/lame/lame/3.99/lame-3.99.5.tar.gz</span><br><span class="line">tar xzvf lame-3.99.5.tar.gz</span><br><span class="line">cd lame-3.99.5</span><br><span class="line">./configure --prefix=&quot;$HOME/ffmpeg_build&quot; --bindir=&quot;$HOME/bin&quot; --disable-shared --enable-nasm</span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line">make distclean</span><br><span class="line"></span><br><span class="line">cd ~/ffmpeg_sources</span><br><span class="line">curl -O http://downloads.xiph.org/releases/opus/opus-1.0.3.tar.gz</span><br><span class="line">tar xzvf opus-1.0.3.tar.gz</span><br><span class="line">cd opus-1.0.3</span><br><span class="line">./configure --prefix=&quot;$HOME/ffmpeg_build&quot; --disable-shared</span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line">make distclean</span><br><span class="line"></span><br><span class="line">cd ~/ffmpeg_sources</span><br><span class="line">curl -O http://downloads.xiph.org/releases/ogg/libogg-1.3.1.tar.gz</span><br><span class="line">tar xzvf libogg-1.3.1.tar.gz</span><br><span class="line">cd libogg-1.3.1</span><br><span class="line">./configure --prefix=&quot;$HOME/ffmpeg_build&quot; --disable-shared</span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line">make distclean</span><br><span class="line"></span><br><span class="line">cd ~/ffmpeg_sources</span><br><span class="line">curl -O http://downloads.xiph.org/releases/vorbis/libvorbis-1.3.3.tar.gz</span><br><span class="line">tar xzvf libvorbis-1.3.3.tar.gz</span><br><span class="line">cd libvorbis-1.3.3</span><br><span class="line">./configure --prefix=&quot;$HOME/ffmpeg_build&quot; --with-ogg=&quot;$HOME/ffmpeg_build&quot; --disable-shared</span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line">make distclean</span><br><span class="line"></span><br><span class="line">cd ~/ffmpeg_sources</span><br><span class="line">git clone --depth 1 https://chromium.googlesource.com/webm/libvpx</span><br><span class="line">cd libvpx</span><br><span class="line">git checkout tags/v1.3.0</span><br><span class="line">./configure --prefix=&quot;$HOME/ffmpeg_build&quot; --disable-examples</span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line">make clean</span><br><span class="line"></span><br><span class="line">cd ~/ffmpeg_sources</span><br><span class="line">curl -O http://downloads.xiph.org/releases/theora/libtheora-1.1.1.tar.gz</span><br><span class="line">tar xzvf libtheora-1.1.1.tar.gz</span><br><span class="line">cd libtheora-1.1.1</span><br><span class="line">./configure --prefix=&quot;$HOME/ffmpeg_build&quot; --with-ogg=&quot;$HOME/ffmpeg_build&quot; --disable-examples --disable-shared --disable-sdltest --disable-vorbistest</span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line">make distclean</span><br><span class="line"></span><br><span class="line">yum -y install freetype-devel speex-devel</span><br><span class="line"></span><br><span class="line">cd ~/ffmpeg_sources</span><br><span class="line">git clone --depth 1 git://source.ffmpeg.org/ffmpeg</span><br><span class="line">cd ffmpeg</span><br><span class="line">PKG_CONFIG_PATH=&quot;$HOME/ffmpeg_build/lib/pkgconfig&quot;</span><br><span class="line">export PKG_CONFIG_PATH</span><br><span class="line">./configure --prefix=&quot;$HOME/ffmpeg_build&quot; --extra-cflags=&quot;-I$HOME/ffmpeg_build/include&quot; --extra-ldflags=&quot;-L$HOME/ffmpeg_build/lib&quot; --bindir=&quot;$HOME/bin&quot; --extra-libs=&quot;-ldl&quot; --enable-gpl --enable-nonfree --enable-libfdk_aac --enable-libmp3lame --enable-libopus --enable-libvorbis --enable-libvpx --enable-libx264 --enable-libfreetype --enable-libspeex --enable-libtheora</span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line">make distclean</span><br><span class="line">hash -r</span><br><span class="line">. ~/.bash_profile</span><br><span class="line"></span><br><span class="line">cd ~/ffmpeg_sources/ffmpeg/tools</span><br><span class="line">make qt-faststart</span><br><span class="line">cp qt-faststart /usr/bin</span><br><span class="line">ldconfig</span><br><span class="line">cd</span><br></pre></td></tr></table></figure>

<h2 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ:"></a>FAQ:</h2><ul>
<li><p>ERROR: libvpx decoder version must be &gt;=0.9.1</p>
<pre><code>sudo yum install libvpx.x86_64 libvpx-devel.x86_64</code></pre></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/7/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/9/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Hillock"
      src="https://res.hillock.com.cn/cola.jpg">
  <p class="site-author-name" itemprop="name">Hillock</p>
  <div class="site-description" itemprop="description">努力奔跑，向着诗和远方</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">174</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">145</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/liuhill" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;liuhill" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:9986778@qq.com" title="E-Mail → mailto:9986778@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/liu-hill" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;liu-hill" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/LiuLig" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;LiuLig" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hillock</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
